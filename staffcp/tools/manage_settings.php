<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 7.2 & 7.3
 * @ Decoder version: 1.0.6
 * @ Release: 10/08/2022
 */

checkStaffAuthentication();
$Language = file("languages/" . getStaffLanguage() . "/manage_settings.lang");
$Message = "";
$Act = isset($_GET["act"]) ? trim($_GET["act"]) : (isset($_POST["act"]) ? trim($_POST["act"]) : "");
define("TSDIR", "../");
if (strtoupper($_SERVER["REQUEST_METHOD"]) == "POST" && isset($_POST["isAjax"])) {
    $tab = isset($_POST["tab"]) ? trim($_POST["tab"]) : "";
    $name = isset($_POST["name"]) ? trim($_POST["name"]) : "";
    $isSaved = isset($_POST["isSaved"]) && $_POST["isSaved"] == "true" ? true : false;
    if ($tab && $name) {
        $subTabs = ["22" => "Announce", "33" => "Signup", "55" => "Mail", "66" => "Date", "77" => "Theme", "88" => "Extra", "99" => "Cleanup", "100" => "Hit", "111" => "Payment", "122" => "KPS", "133" => "IRC", "144" => "Request"];
        if (is_numeric($name) && isset($subTabs[$name])) {
            $name = $subTabs[$name];
        }
        $name = explode(" ", $name);
        $name = strtoupper($name[0]);
        $function = "TS_Create_Tabs_" . $name;
        if (function_exists($function)) {
            if ($isSaved) {
                $tabNumber = str_replace("tab", "", $tab);
                echo "<div class=\"icon-ok\">Settings {" . $name . "} has been saved.</div>";
            }
            echo $function();
        } else {
            echo "function " . $function . " does NOT exists";
        }
    } else {
        echo "Invalid request!";
    }
    exit;
}
if (strtoupper($_SERVER["REQUEST_METHOD"]) == "POST" && isset($_POST["configname"])) {
    $CONFIGNAME = strtoupper(trim($_POST["configname"]));
    if ($CONFIGNAME == "ANNOUNCE") {
        $queryPrimary = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'ANNOUNCE'");
        $Result = mysqli_fetch_assoc($queryPrimary);
        $ANNOUNCE1 = unserialize($Result["content"]);
        if ($_POST["ANNOUNCE"]["xbt_active"] == "yes") {
            if ($ANNOUNCE1["xbt_active"] == "no") {
                mysqli_query($GLOBALS["DatabaseConnect"], "TRUNCATE TABLE `peers`");
                mysqli_query($GLOBALS["DatabaseConnect"], "UPDATE `torrents` SET $seeders = 0, $leechers = 0");
            }
            foreach ($_POST["XBTCONFIG"] as $Name => $Value) {
                mysqli_query($GLOBALS["DatabaseConnect"], "UPDATE xbt_config SET `value` = '" . mysqli_real_escape_string($GLOBALS["DatabaseConnect"], $Value) . "' WHERE `name` =  '" . mysqli_real_escape_string($GLOBALS["DatabaseConnect"], $Name) . "' LIMIT 1");
            }
        } else {
            if ($ANNOUNCE1["xbt_active"] == "yes") {
                mysqli_query($GLOBALS["DatabaseConnect"], "TRUNCATE TABLE `xbt_files_users`");
                mysqli_query($GLOBALS["DatabaseConnect"], "UPDATE `torrents` SET $seeders = 0, $leechers = 0");
            }
        }
    }
    if ($CONFIGNAME == "HITRUN") {
        if (isset($_POST["usergroups"])) {
            $_POST["HITRUN"]["HRSkipUsergroups"] = implode($_POST["usergroups_implode_with"], $_POST["usergroups"]);
        }
        if (isset($_POST["categories"])) {
            $_POST["HITRUN"]["Categories"] = implode($_POST["usergroups_implode_with"], $_POST["categories"]);
        }
        if ($_POST["HITRUN"]["MinFinishDate"]) {
            $_POST["HITRUN"]["MinFinishDate"] = strtotime($_POST["HITRUN"]["MinFinishDate"]);
        }
    }
    if ($CONFIGNAME == "LOTTERY" && isset($_POST["usergroups"])) {
        $_POST["LOTTERY"]["lottery_allowed_usergroups"] = implode($_POST["usergroups_implode_with"], $_POST["usergroups"]);
    }
    if ($CONFIGNAME == "PAYPAL" && isset($_POST["protectedusergroups"])) {
        $_POST["PAYPAL"]["protectedusergroups"] = implode($_POST["usergroups_implode_with"], $_POST["protectedusergroups"]);
    }
    if ($CONFIGNAME == "KPS" && isset($_POST["__FLSTYPE"])) {
        $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'MAIN'");
        $Result = mysqli_fetch_assoc($query);
        $MAIN = unserialize($Result["content"]);
        $_cachecontents = "<?php\n/** TS Generated Cache#10 - Do Not Alter\n * Cache Name: FreeLeech\n * Generated: " . gmdate("r") . "\n*/\n";
        $_cachecontents .= "\$__FLSTYPE = '" . $_POST["__FLSTYPE"] . "';\n";
        $_cachecontents .= "\$__F_START = '" . $_POST["__F_START"] . " 00:00:00';\n";
        $_cachecontents .= "\$__F_END = '" . $_POST["__F_END"] . " 00:00:00';\n?>";
        if (!file_put_contents("../" . $MAIN["cache"] . "/freeleech.php", $_cachecontents)) {
            $Message = showAlertError("<b>cache/freeleech.php</b> isn't writable. Plesae check permissions.");
        }
    }
    if ($CONFIGNAME == "SHOUTBOX") {
        if (is_array($_POST["s_cansendps"])) {
            $_value = [];
            foreach ($_POST["s_cansendps"] as $ugid) {
                $_value[] = $ugid;
            }
            $_POST["SHOUTBOX"]["s_cansendps"] = implode($_POST["usergroups_implode_with"], $_value);
        }
        if (is_array($_POST["s_pc2perm"])) {
            $_value = [];
            foreach ($_POST["s_pc2perm"] as $ugid) {
                $_value[] = $ugid;
            }
            $_POST["SHOUTBOX"]["s_pc2perm"] = implode($_POST["usergroups_implode_with"], $_value);
        }
        if (is_array($_POST["s_pc3perm"])) {
            $_value = [];
            foreach ($_POST["s_pc3perm"] as $ugid) {
                $_value[] = $ugid;
            }
            $_POST["SHOUTBOX"]["s_pc3perm"] = implode($_POST["usergroups_implode_with"], $_value);
        }
        if (is_array($_POST["s_pc4perm"])) {
            $_value = [];
            foreach ($_POST["s_pc4perm"] as $ugid) {
                $_value[] = $ugid;
            }
            $_POST["SHOUTBOX"]["s_pc4perm"] = implode($_POST["usergroups_implode_with"], $_value);
        }
        if (is_array($_POST["s_pc5perm"])) {
            $_value = [];
            foreach ($_POST["s_pc5perm"] as $ugid) {
                $_value[] = $ugid;
            }
            $_POST["SHOUTBOX"]["s_pc5perm"] = implode($_POST["usergroups_implode_with"], $_value);
        }
    }
    if ($CONFIGNAME == "ALBUM") {
        if (is_array($_POST["album_can_upload_usergroups"])) {
            $_value = [];
            foreach ($_POST["album_can_upload_usergroups"] as $ugid) {
                $_value[] = $ugid;
            }
            $_POST["ALBUM"]["album_can_upload_usergroups"] = implode($_POST["usergroups_implode_with"], $_value);
        }
        if (is_array($_POST["album_can_view_usergroups"])) {
            $_value = [];
            foreach ($_POST["album_can_view_usergroups"] as $ugid) {
                $_value[] = $ugid;
            }
            $_POST["ALBUM"]["album_can_view_usergroups"] = implode($_POST["usergroups_implode_with"], $_value);
        }
    }
    if ($CONFIGNAME == "SHOUTCAST" && is_array($_POST["usergroup"])) {
        $_value = [];
        foreach ($_POST["usergroup"] as $ugid) {
            $_value[] = $ugid;
        }
        $_POST["SHOUTCAST"]["s_allowedusergroups"] = implode($_POST["usergroups_implode_with"], $_value);
    }
    if (isset($_POST["BannedPeerIds"])) {
        if (empty($_POST["BannedPeerIds"])) {
            mysqli_query($GLOBALS["DatabaseConnect"], "DELETE FROM xbt_deny_from_clients");
        } else {
            mysqli_query($GLOBALS["DatabaseConnect"], "DELETE FROM xbt_deny_from_clients");
            $BannedPeerIds = explode(",", $_POST["BannedPeerIds"]);
            foreach ($BannedPeerIds as $PeerID) {
                mysqli_query($GLOBALS["DatabaseConnect"], "REPLACE INTO xbt_deny_from_clients VALUES ('" . mysqli_real_escape_string($GLOBALS["DatabaseConnect"], base64_decode($PeerID)) . "')");
            }
        }
    }
    if (($SAVECONFIG = serialize($_POST[$CONFIGNAME])) && mysqli_query($GLOBALS["DatabaseConnect"], "REPLACE INTO `ts_config` VALUES ('" . mysqli_real_escape_string($GLOBALS["DatabaseConnect"], $CONFIGNAME) . "', '" . mysqli_real_escape_string($GLOBALS["DatabaseConnect"], $SAVECONFIG) . "')")) {
        if (in_array($CONFIGNAME, ["ANNOUNCE", "MAIN", "TWEAK", "SECURITY", "THEME", "KPS", "DATETIME"])) {
            $SAVEANNOUNCE = function_136();
            if (!empty($SAVEANNOUNCE)) {
                $Message .= $SAVEANNOUNCE;
            }
        }
        $STATUS[$_GET["stab"]] = "<div class=\"icon-ok\">{" . $CONFIGNAME . "} Settings has been saved.</div>";
        logStaffAction(str_replace(["{1}", "{2}"], [$CONFIGNAME, $_SESSION["ADMIN_USERNAME"]], $Language[6]));
        if ($CONFIGNAME == "MAIN" && $_POST["MAIN"]["ts_seo"] == "yes") {
            $Message .= function_137();
        }
    } else {
        $STATUS[$_GET["stab"]] = "<div class=\"icon-error\">An error occurded!</div>";
    }
}
echo loadTinyMCEEditor(1, "exact", "wire_form,S_ANNOUNCEMENT,send_welcome_pm_body,upload_page_notice") . "\r\n<script $type = \"text/javascript\">\r\n\tfunction enableDateFields()\r\n\t{\r\n\t\tjQuery(\"#minfinishdate,#lottery_begin_date,#lottery_end_date,#__F_START,#__F_END\").datepicker({dateFormat: \"yy-mm-dd\", changeMonth: true, changeYear: true, closeText: \"X\", showButtonPanel: true});\r\n\t}\r\n\r\n\tjQuery(document).ready(function()\r\n\t{\r\n\t\tenableDateFields()\r\n\t});\r\n</script>\r\n" . $Message . "\r\n<table $cellpadding = \"0\" $cellspacing = \"0\" $border = \"0\" class=\"mainTable\">\r\n\t<tr>\r\n\t\t<td class=\"tcat\" $align = \"center\" $colspan = \"2\">" . $Language[2] . "</td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td class=\"alt0\">\r\n\t\t\t" . var_367() . "\r\n\t\t</td>\r\n\t</tr>\r\n</table>";
function loadTinyMCEEditor($type = 1, $mode = "textareas", $elements = "")
{
    define("EDITOR_TYPE", $type);
    define("TINYMCE_MODE", $mode);
    define("TINYMCE_ELEMENTS", $elements);
    define("WORKPATH", "./../scripts/");
    define("TINYMCE_EMOTIONS_URL", "./../tinymce_emotions.php");
    ob_start();
    include "./../tinymce.php";
    $var_81 = ob_get_contents();
    ob_end_clean();
    return $var_81;
}
function function_138($url)
{
    return str_replace(["http://www.", "https://www.", "http://", "https://", "www."], "", $url);
}
function getStaffLanguage()
{
    if (isset($_COOKIE["staffcplanguage"]) && is_dir("languages/" . $_COOKIE["staffcplanguage"]) && is_file("languages/" . $_COOKIE["staffcplanguage"] . "/staffcp.lang")) {
        return $_COOKIE["staffcplanguage"];
    }
    return "english";
}
function checkStaffAuthentication()
{
    if (!defined("IN-TSSE-STAFF-PANEL")) {
        redirectTo("../index.php");
    }
}
function redirectTo($url, $timeout = false)
{
    if (!headers_sent()) {
        if (!$timeout) {
            header("Location: " . $url);
        } else {
            header("Refresh: 5; $url = " . $url);
        }
    } else {
        if (!$timeout) {
            echo "\r\n\t\t\t\t<script $type = \"text/javascript\">\r\n\t\t\t\t\twindow.location.$href = \"" . $url . "\";\r\n\t\t\t\t</script>\r\n\t\t\t\t<noscript>\r\n\t\t\t\t\t<meta http-$equiv = \"refresh\" $content = \"0;$url = " . $url . "\" />\r\n\t\t\t\t</noscript>";
        } else {
            echo "\r\n\t\t\t<script $type = \"text/javascript\">\r\n\t\t\t\tsetTimeout( \"window.location.$href = '" . $url . "'\", 5000);\r\n\t\t\t</script>\r\n\t\t\t<noscript>\r\n\t\t\t\t<meta http-$equiv = \"refresh\" $content = \"5;$url = " . $url . "\" />\r\n\t\t\t</noscript>\r\n\t\t\t";
        }
    }
    exit;
}
function showAlertError($Error)
{
    return "<div class=\"alert\"><div>" . $Error . "</div></div>";
}
function logStaffAction($log)
{
    mysqli_query($GLOBALS["DatabaseConnect"], "INSERT INTO ts_staffcp_logs (uid, date, log) VALUES ('" . $_SESSION["ADMIN_ID"] . "', '" . time() . "', '" . mysqli_real_escape_string($GLOBALS["DatabaseConnect"], $log) . "')");
}
function formatBytes($bytes = 0)
{
    if ($bytes < 1024000) {
        return number_format($bytes / 1024, 2) . " KB";
    }
    if ($bytes < 1048576000) {
        return number_format($bytes / 1048576, 2) . " MB";
    }
    if ($bytes < 0) {
        return number_format($bytes / 1073741824, 2) . " GB";
    }
    return number_format($bytes / 0, 2) . " TB";
}
function function_139($selected = 1, $name = "", $Where = "")
{
    $var_368 = "<select $name = \"" . $name . "\">";
    $var_67 = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title FROM usergroups" . $Where . " ORDER BY disporder");
    while ($var_369 = mysqli_fetch_assoc($var_67)) {
        $var_368 .= "<option $value = \"" . $var_369["gid"] . "\"" . ($selected == $var_369["gid"] ? " $selected = \"selected\"" : "") . ">" . $var_369["title"] . "</option>";
    }
    $var_368 .= "</select>";
    return $var_368;
}
function function_140($offset = "all")
{
    $var_313 = ["4294967284" => "timezone_gmt_minus_1200", "4294967285" => "timezone_gmt_minus_1100", "4294967286" => "timezone_gmt_minus_1000", "4294967287" => "timezone_gmt_minus_0900", "4294967288" => "timezone_gmt_minus_0800", "4294967289" => "timezone_gmt_minus_0700", "4294967290" => "timezone_gmt_minus_0600", "4294967291" => "timezone_gmt_minus_0500", "-4.5" => "timezone_gmt_minus_0430", "4294967292" => "timezone_gmt_minus_0400", "-3.5" => "timezone_gmt_minus_0330", "4294967293" => "timezone_gmt_minus_0300", "4294967294" => "timezone_gmt_minus_0200", "4294967295" => "timezone_gmt_minus_0100", "0" => "timezone_gmt_plus_0000", "1" => "timezone_gmt_plus_0100", "2" => "timezone_gmt_plus_0200", "3" => "timezone_gmt_plus_0300", "3.5" => "timezone_gmt_plus_0330", "4" => "timezone_gmt_plus_0400", "4.5" => "timezone_gmt_plus_0430", "5" => "timezone_gmt_plus_0500", "5.5" => "timezone_gmt_plus_0530", "5.75" => "timezone_gmt_plus_0545", "6" => "timezone_gmt_plus_0600", "6.5" => "timezone_gmt_plus_0630", "7" => "timezone_gmt_plus_0700", "8" => "timezone_gmt_plus_0800", "9" => "timezone_gmt_plus_0900", "9.5" => "timezone_gmt_plus_0930", "10" => "timezone_gmt_plus_1000", "11" => "timezone_gmt_plus_1100", "12" => "timezone_gmt_plus_1200"];
    return $offset == "all" ? $var_313 : $var_313[(string) $offset];
}
function function_141($tzoffset = 0)
{
    $var_370 = ["timezone_gmt_minus_0100" => "(GMT -1:00 hour) Azores, Cape Verde Islands", "timezone_gmt_minus_0200" => "(GMT -2:00) Mid-Atlantic", "timezone_gmt_minus_0300" => "(GMT -3:00) Brazil, Buenos Aires, Georgetown", "timezone_gmt_minus_0330" => "(GMT -3:30) Newfoundland", "timezone_gmt_minus_0400" => "(GMT -4:00) Atlantic Time (Canada), La Paz, Santiago", "timezone_gmt_minus_0430" => "(GMT -4:30) Caracas", "timezone_gmt_minus_0500" => "(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima", "timezone_gmt_minus_0600" => "(GMT -6:00) Central Time (US &amp; Canada), Mexico City", "timezone_gmt_minus_0700" => "(GMT -7:00) Mountain Time (US &amp; Canada)", "timezone_gmt_minus_0800" => "(GMT -8:00) Pacific Time (US &amp; Canada)", "timezone_gmt_minus_0900" => "(GMT -9:00) Alaska", "timezone_gmt_minus_1000" => "(GMT -10:00) Hawaii", "timezone_gmt_minus_1100" => "(GMT -11:00) Midway Island, Samoa", "timezone_gmt_minus_1200" => "(GMT -12:00) Eniwetok, Kwajalein", "timezone_gmt_plus_0000" => "(GMT) Western Europe Time, London, Lisbon, Casablanca", "timezone_gmt_plus_0100" => "(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris", "timezone_gmt_plus_0200" => "(GMT +2:00) Kaliningrad, South Africa", "timezone_gmt_plus_0300" => "(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg", "timezone_gmt_plus_0330" => "(GMT +3:30) Tehran", "timezone_gmt_plus_0400" => "(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi", "timezone_gmt_plus_0430" => "(GMT +4:30) Kabul", "timezone_gmt_plus_0500" => "(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent", "timezone_gmt_plus_0530" => "(GMT +5:30) Mumbai, Kolkata, Chennai, New Delhi", "timezone_gmt_plus_0545" => "(GMT +5:45) Kathmandu", "timezone_gmt_plus_0600" => "(GMT +6:00) Almaty, Dhaka, Colombo", "timezone_gmt_plus_0630" => "(GMT +6:30) Yangon, Cocos Islands", "timezone_gmt_plus_0700" => "(GMT +7:00) Bangkok, Hanoi, Jakarta", "timezone_gmt_plus_0800" => "(GMT +8:00) Beijing, Perth, Singapore, Hong Kong", "timezone_gmt_plus_0900" => "(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk", "timezone_gmt_plus_0930" => "(GMT +9:30) Adelaide, Darwin", "timezone_gmt_plus_1000" => "(GMT +10:00) Eastern Australia, Guam, Vladivostok", "timezone_gmt_plus_1100" => "(GMT +11:00) Magadan, Solomon Islands, New Caledonia", "timezone_gmt_plus_1200" => "(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka"];
    $var_314 = "";
    foreach (function_140() as $var_315 => $var_316) {
        $var_314 .= "<option $value = \"" . $var_315 . "\"" . ($tzoffset == $var_315 ? " $selected = \"selected\"" : "") . ">" . $var_370[(string) $var_316] . "</option>";
    }
    return "\r\n\t<select $name = \"DATETIME[timezoneoffset]\" $id = \"sel_tzoffset\">\r\n\t\t" . $var_314 . "\r\n\t</select>\r\n\t";
}
function function_142($selected = "")
{
    $var_368 = "";
    $var_371 = scandir("../include/languages");
    foreach ($var_371 as $language) {
        if ($language != "." && $language != "..") {
            $var_368 .= "<input $type = \"radio\" $name = \"THEME[defaultlanguage]\" $value = \"" . $language . "\"" . ($selected == $language ? " $checked = \"checked\"" : "") . " /> " . ucfirst($language);
        }
    }
    return $var_368;
}
function function_143($selected = "")
{
    $var_368 = "";
    $var_67 = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `name` FROM ts_themes ORDER BY isdefault, name");
    while ($var_372 = mysqli_fetch_assoc($var_67)) {
        $var_368 .= "<input $type = \"radio\" $name = \"THEME[defaulttemplate]\" $value = \"" . $var_372["name"] . "\"" . ($selected == $var_372["name"] ? " $checked = \"checked\"" : "") . " /> " . ucfirst($var_372["name"]);
    }
    return $var_368;
}
function function_137()
{
    $var_373 = "\r\n\r\n<IfModule mod_rewrite.c>\r\n\t# //seo_mod_start\r\n\tRewriteEngine On\t\r\n\t# Uncomment the following and add your tracker path if rewrites arent working properly\r\n\t#RewriteBase /\r\n\r\n\tRewriteRule ^forum-([0-9]+)/(.*)\$ tsf_forums/index.php?$fid = \$1&\$2 [L,NC] #New\r\n\tRewriteRule ^threads-([0-9]+)/(.*)\$ tsf_forums/forumdisplay.php?$fid = \$1&\$2 [L,NC] #New\r\n\tRewriteRule ^thread-([0-9]+)/(.*)\$ tsf_forums/showthread.php?$tid = \$1&\$2 [L,NC] #New\r\n\t\r\n\tRewriteRule ^torrent-category-([0-9]+)/(.*)\$ browse.php?$category = \$1 [L,NC] #torrent-category-1/Default-Category\r\n\tRewriteRule ^download-torrent-([0-9]+)/(.*)\$ download.php?$id = \$1 [L,NC] #download-torrent-2/1-jpg\r\n\tRewriteRule ^download-torrent-ssl-([0-9]+)/(.*)\$ download.php?$id = \$1&$type = ssl [L,NC] #download-torrent-ssl-2/1-jpg\r\n\tRewriteRule ^torrent-details-([0-9]+)/(.*)\$ details.php?$id = \$1 [L,NC] #torrent-details-2/1-jpg\r\n\tRewriteRule ^user-profile-([0-9]+)/(.*)\$ userdetails.php?$id = \$1 [L,NC] #user-profile-1/admin\r\n\r\n\t#Support for old links with old seo\r\n\tRewriteRule ^(.*)-c-([0-9]+).ts(.*)\$ browse.php?$category = \$2 [QSA,L]\r\n\tRewriteRule ^(.*)-d-([0-9]+).ts(.*)\$ download.php?$id = \$2 [QSA,L]\r\n\tRewriteRule ^(.*)-s-([0-9]+).ts(.*)\$ details.php?$id = \$2 [QSA,L]\r\n\tRewriteRule ^(.*)-a-(.*).ts(.*)\$ announce.php?$passkey = \$2 [QSA,L]\r\n\tRewriteRule ^(.*)-u?([0-9]+).ts(.*)\$ userdetails.php?$id = \$2\$3 [QSA,L]\r\n\tRewriteRule ^(.*)-f([0-9]+).tsf(.*)\$ tsf_forums/index.php?$fid = \$2\$3 [QSA,L]\r\n\tRewriteRule ^(.*)-fd([0-9]+).tsf(.*)\$ tsf_forums/forumdisplay.php?$fid = \$2\$3 [QSA,L]\r\n\tRewriteRule ^(.*)-t([0-9]+).tsf(.*)\$ tsf_forums/showthread.php?$tid = \$2\$3 [QSA,L]\r\n</IfModule>\r\n";
    if (!file_exists(TSDIR . "/.htaccess")) {
        @touch(TSDIR . "/.htaccess");
    }
    if (is_writeable(TSDIR . "/.htaccess")) {
        $var_374 = implode("", file(TSDIR . "/.htaccess"));
        if (strstr($var_374, "//seo_mod_start")) {
            return NULL;
        }
        file_put_contents(TSDIR . "/.htaccess", $var_374 . $var_373);
    } else {
        return showAlertError("Error, .htaccess isn't writable! <b>Copy/Paste the following code at end of a .htaccess file in your tracker root directory:</b><br /><br /><textarea $cols = '80' $rows = '15'>" . str_replace("%extra_code%", "RewriteEngine On\r\n", $var_373) . "</textarea>");
    }
}
function function_136()
{
    $var_375 = "";
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'ANNOUNCE'");
    $Result = mysqli_fetch_assoc($query);
    $var_56 = unserialize($Result["content"]);
    $var_376 = $var_56["xbt_active"];
    $var_377 = $var_56["xbt_announce_url"];
    $var_378 = $var_56["announce_system"];
    $var_379 = $var_56["announce_interval"];
    $var_380 = $var_56["bannedclientdetect"];
    $var_381 = $var_56["allowed_clients"];
    $var_382 = $var_56["announce_actions"];
    $var_383 = $var_56["max_rate"];
    $var_384 = $var_56["announce_wait"];
    $var_385 = $var_56["aggressivecheat"];
    $var_386 = $var_56["detectbrowsercheats"];
    $var_387 = $var_56["A_checkconnectable"];
    $var_388 = $var_56["checkip"];
    $var_389 = $var_56["banned_ports"];
    $var_390 = $var_56["nc"];
    $var_375 .= "/* ANNOUNCE */";
    $var_375 .= "\$xbt_active = '" . $var_376 . "';";
    if ($var_376 == "yes") {
        $var_375 .= "\$xbt_announce_url = '" . $var_377 . "';";
    }
    $var_375 .= "\$announce_system = '" . $var_378 . "';";
    $var_375 .= "\$announce_interval = '" . $var_379 . "';";
    $var_375 .= "\$bannedclientdetect = '" . $var_380 . "';";
    if ($var_380 == "yes") {
        $var_375 .= "\$allowed_clients = '" . $var_381 . "';";
    }
    $var_375 .= "\$announce_actions = '" . $var_382 . "';";
    $var_375 .= "\$max_rate = '" . $var_383 . "';";
    $var_375 .= "\$announce_wait = '" . $var_384 . "';";
    $var_375 .= "\$aggressivecheat = '" . $var_385 . "';";
    $var_375 .= "\$detectbrowsercheats = '" . $var_386 . "';";
    $var_375 .= "\$A_checkconnectable = '" . $var_387 . "';";
    $var_375 .= "\$checkip = '" . $var_388 . "';";
    $var_375 .= "\$banned_ports = '" . $var_389 . "';";
    $var_375 .= "\$nc = '" . $var_390 . "';";
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'MAIN'");
    $Result = mysqli_fetch_assoc($query);
    $MAIN = unserialize($Result["content"]);
    $var_391 = $MAIN["BASEURL"];
    $var_392 = $MAIN["SITENAME"];
    $var_393 = $MAIN["cache"];
    $var_375 .= "/* MAIN */";
    $var_375 .= "\$BASEURL = '" . $var_391 . "';";
    $var_375 .= "\$SITENAME = '" . $var_392 . "';";
    $var_375 .= "\$cache = '" . $var_393 . "';";
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'TWEAK'");
    $Result = mysqli_fetch_assoc($query);
    $var_394 = unserialize($Result["content"]);
    $var_395 = $var_394["snatchmod"];
    $var_396 = $var_394["gzipcompress"];
    $var_397 = isset($var_394["memcached_enabled"]) ? $var_394["memcached_enabled"] : "no";
    $var_398 = isset($var_394["memcached_host"]) ? $var_394["memcached_host"] : "localhost";
    $var_399 = isset($var_394["memcached_port"]) ? $var_394["memcached_port"] : "11211";
    $var_375 .= "/* TWEAK */";
    $var_375 .= "\$snatchmod = '" . $var_395 . "';";
    $var_375 .= "\$gzipcompress = '" . $var_396 . "';";
    $var_375 .= "\$memcached_enabled = '" . $var_397 . "';";
    $var_375 .= "\$memcached_host = '" . $var_398 . "';";
    $var_375 .= "\$memcached_port = '" . $var_399 . "';";
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'SECURITY'");
    $Result = mysqli_fetch_assoc($query);
    $var_400 = unserialize($Result["content"]);
    $var_401 = $var_400["privatetrackerpatch"];
    $var_402 = $var_400["aggressivecheckip"];
    $var_375 .= "/* SECURITY */";
    $var_375 .= "\$privatetrackerpatch = '" . $var_401 . "';";
    $var_375 .= "\$aggressivecheckip = '" . $var_402 . "';";
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'THEME'");
    $Result = mysqli_fetch_assoc($query);
    $var_28 = unserialize($Result["content"]);
    $var_403 = $var_28["defaultlanguage"];
    $var_10 = $var_28["charset"];
    $var_375 .= "/* THEME */";
    $var_375 .= "\$defaultlanguage = '" . $var_403 . "';";
    $var_375 .= "\$charset = '" . $var_10 . "';";
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'KPS'");
    $Result = mysqli_fetch_assoc($query);
    $var_404 = unserialize($Result["content"]);
    $var_405 = $var_404["bdayreward"];
    $var_406 = $var_404["bdayrewardtype"];
    $var_407 = $var_404["bonus"];
    $var_408 = $var_404["kpsseed"];
    $var_409 = $var_404["kpstype"];
    $var_410 = $var_404["kpsgbamount"];
    $var_375 .= "/* KPS */";
    $var_375 .= "\$bdayreward = '" . $var_405 . "';";
    $var_375 .= "\$bdayrewardtype = '" . $var_406 . "';";
    $var_375 .= "\$bonus = '" . $var_407 . "';";
    $var_375 .= "\$kpsseed = '" . $var_408 . "';";
    $var_375 .= "\$kpstype = '" . $var_409 . "';";
    $var_375 .= "\$kpsgbamount = '" . $var_410 . "';";
    if (file_put_contents("../include/config_announce.php", "<?php\r\n/* Please use Setting Panel to Modify this file! */\r\n" . $var_375 . "\r\n/* Please use Setting Panel to Modify this file! */\r\n?>")) {
        return "";
    }
    return showAlertError("<b>include/config_announce.php</b> isn't writable. Plesae check permissions.");
}
function function_144()
{
    return "\r\n\t<div $id = \"ajax_loading\"><img $src = \"./images/ajax_loading.gif\" /></div>\r\n\t\r\n\t<div class=\"yui-skin-sam\" $style = \"display: none;\">\r\n\t\t<div $id = \"manage_settings\" class=\"yui-navset\">\r\n\r\n\t\t\t<ul class=\"yui-nav\">\r\n\t\t\t\t<li" . (!isset($_GET["tab"]) || isset($_GET["tab"]) && $_GET["tab"] == "1" ? " class=\"selected\"" : "") . "><a $href = \"#tab1\"><em>General Settings</em></a></li>\r\n\t\t\t\t<li" . (isset($_GET["tab"]) && $_GET["tab"] == "2" ? " class=\"selected\"" : "") . "><a $href = \"#tab2\"><em>Security Settings</em></a></li>\r\n\t\t\t\t<li" . (isset($_GET["tab"]) && $_GET["tab"] == "3" ? " class=\"selected\"" : "") . "><a $href = \"#tab3\"><em>Tweak Settings</em></a></li>\r\n\t\t\t\t<li" . (isset($_GET["tab"]) && $_GET["tab"] == "4" ? " class=\"selected\"" : "") . "><a $href = \"#tab4\"><em>Lottery Settings</em></a></li>\r\n\t\t\t\t<li" . (isset($_GET["tab"]) && $_GET["tab"] == "5" ? " class=\"selected\"" : "") . "><a $href = \"#tab5\"><em>Shoutbox Settings</em></a></li>\r\n\t\t\t\t<li" . (isset($_GET["tab"]) && $_GET["tab"] == "6" ? " class=\"selected\"" : "") . "><a $href = \"#tab6\"><em>Album Settings</em></a></li>\r\n\t\t\t\t<li" . (isset($_GET["tab"]) && $_GET["tab"] == "7" ? " class=\"selected\"" : "") . "><a $href = \"#tab7\"><em>Shoutcast Settings</em></a></li>\r\n\t\t\t\t<li" . (isset($_GET["tab"]) && $_GET["tab"] == "8" ? " class=\"selected\"" : "") . "><a $href = \"#tab8\"><em>Plugin Settings</em></a></li>\r\n\t\t\t\t<li" . (isset($_GET["tab"]) && $_GET["tab"] == "9" ? " class=\"selected\"" : "") . "><a $href = \"#tab9\"><em>Social Settings</em></a></li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<div class=\"yui-content\">\r\n\r\n\t\t\t\t<div $id = \"tab1\">\r\n\t\t\t\t\t<div $id = \"general_settings\" class=\"yui-navset\">\r\n\t\t\t\t\t\t<ul class=\"yui-nav\">\r\n\t\t\t\t\t\t\t<li" . (!isset($_GET["stab"]) || isset($_GET["stab"]) && $_GET["stab"] == "11" ? " class=\"selected\"" : "") . "><a $href = \"#tab11\"><em>Main</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "22" ? " class=\"selected\"" : "") . "><a $href = \"#tab22\"><em>Announce</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "33" ? " class=\"selected\"" : "") . "><a $href = \"#tab33\"><em>Signup</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "55" ? " class=\"selected\"" : "") . "><a $href = \"#tab55\"><em>Mail</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "66" ? " class=\"selected\"" : "") . "><a $href = \"#tab66\"><em>Date &amp; Time</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "77" ? " class=\"selected\"" : "") . "><a $href = \"#tab77\"><em>Theme &amp; Language</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "88" ? " class=\"selected\"" : "") . "><a $href = \"#tab88\"><em>Extra</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "99" ? " class=\"selected\"" : "") . "><a $href = \"#tab99\"><em>Cleanup</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "100" ? " class=\"selected\"" : "") . "><a $href = \"#tab100\"><em>HIT &amp; Run</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "111" ? " class=\"selected\"" : "") . "><a $href = \"#tab111\"><em>Payment</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "122" ? " class=\"selected\"" : "") . "><a $href = \"#tab122\"><em>KPS &amp; Gift</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "133" ? " class=\"selected\"" : "") . "><a $href = \"#tab133\"><em>IRC</em></a></li>\r\n\t\t\t\t\t\t\t<li" . (isset($_GET["stab"]) && $_GET["stab"] == "144" ? " class=\"selected\"" : "") . "><a $href = \"#tab144\"><em>Request</em></a></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div class=\"yui-content\">\r\n\t\t\t\t\t\t\t<div $id = \"tab11\">\r\n\t\t\t\t\t\t\t\t" . TS_Create_Tabs_GENERAL() . "\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab22\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab33\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab55\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab66\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab77\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab88\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab99\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab100\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab111\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab122\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab133\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div $id = \"tab144\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div $id = \"tab2\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div $id = \"tab3\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div $id = \"tab4\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div $id = \"tab5\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div $id = \"tab6\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div $id = \"tab7\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div $id = \"tab8\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div $id = \"tab9\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction openTab(\$tab, \$name, \$isSaved)\r\n\t\t{\r\n\t\t\tif(\$tab == \"tab1\" && !isNaN(\$name))\r\n\t\t\t{\r\n\t\t\t\tvar \$workWidth = \$(\"#tab\"+\$name);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar \$workWidth = \$(\"#\"+\$tab);\r\n\t\t\t}\r\n\r\n\t\t\t\$workWidth.html('<img $src = \"./images/progress.gif\" $alt = \"\" $title = \"\" $style = \"vertical-align: middle;\" /> Loading...');\r\n\t\t\t\r\n\t\t\t\$.ajax\r\n\t\t\t({\r\n\t\t\t\turl: \"" . $_SERVER["SCRIPT_NAME"] . "\",\r\n\t\t\t\tdata: \"do=manage_settings&$isAjax = 1&$tab = \"+\$tab+\"&$name = \"+\$name+\"&$isSaved = \"+\$isSaved,\r\n\t\t\t\ttype: \"POST\",\r\n\t\t\t\tsuccess: function(response)\r\n\t\t\t\t{\r\n\t\t\t\t\t\$workWidth.html(response);\r\n\t\t\t\t\tenableDateFields();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tjQuery(window).load(function()\r\n\t\t{\r\n\t\t\tjQuery(\"#ajax_loading\").remove();\r\n\t\t\tjQuery(\".yui-skin-sam\").show();\r\n\r\n\t\t\t" . (isset($_GET["tab"]) && isset($_GET["stab"]) && ($_GET["tab"] != 1 || $_GET["tab"] == 1 && $_GET["stab"] != 11) ? "\r\n\t\t\topenTab(\"tab" . $_GET["tab"] . "\", \"" . $_GET["stab"] . "\", true);" : "") . "\r\n\t\t});\r\n\r\n\t\tjQuery(document).on(\"click\", \".yui-nav li\", function(e)\r\n\t\t{\r\n\t\t\tvar \$li = jQuery(this), \$content = \$li.html(), \$tab = \$content.match(/\\<a $href = \"\\#(.*)\"\\>/), \$name = \$content.match(/\\<em\\>(.*)\\<\\/em\\>/);\r\n\t\t\t\r\n\t\t\t\$tab = \$tab[1], \$name = \$name[1];\r\n\r\n\t\t\tif(\$tab == \"tab1\" || \$tab == \"tab11\")\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\topenTab(\$tab, \$name, false);\r\n\t\t});\r\n\t</script>\r\n\t";
}
function TS_Create_Tabs_GENERAL()
{
    global $STATUS;
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'MAIN'");
    $Result = mysqli_fetch_assoc($query);
    $MAIN = unserialize($Result["content"]);
    return "\r\n\t" . (isset($STATUS[11]) ? $STATUS[11] : "") . "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_external_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"external_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"external_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"external_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_main&amp;$tab = 1&amp;$stab = 11\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"MAIN\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Main  Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Site Online</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tFrom time to time, you may want to turn your tracker off to the public while you perform maintenance, update versions, etc. When you turn your tracker off, visitors will receive a message that states that the tracker is temporarily unavailable. Administrators will still be able to see the tracker.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[site_online]\" $value = \"yes\"" . ($MAIN["site_online"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[site_online]\" $value = \"no\"" . ($MAIN["site_online"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">\r\n\t\t\t\t\t<span $style = \"float: right;\">\r\n\t\t\t\t\t\t.htaccess is <span $style = \"color: " . (is_writeable(TSDIR . "/.htaccess") ? "green;\">writable" : "red;\">not writable") . "</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\tEnable Search Engine Optimization\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnabling friendly URLs can increase your site's ranking in search engines and can be useful for users to understand the URL's that they follow.<br /><br /><b>Note:</b> In order to use this feature, the appropriate rewrite rules must be defined for your server.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[ts_seo]\" $value = \"yes\"" . ($MAIN["ts_seo"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[ts_seo]\" $value = \"no\"" . ($MAIN["ts_seo"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable AJAX Features</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAJAX uses JavaScript and features of recent browsers to allow additional data to be retrieved without doing a page refresh, such as posting with quick reply or editing a thread title inline. These features may cause problems with trackers not running in English. Select NO to disable all AJAX features.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[useajax]\" $value = \"yes\"" . ($MAIN["useajax"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[useajax]\" $value = \"no\"" . ($MAIN["useajax"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable External Torrents</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow users uploads external torrents.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_external_type(this.value);\" $type = \"radio\" $name = \"MAIN[externalscrape]\" $value = \"yes\"" . ($MAIN["externalscrape"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_external_type(this.value);\" $type = \"radio\" $name = \"MAIN[externalscrape]\" $value = \"no\"" . ($MAIN["externalscrape"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"external_no\" $style = \"display: " . ($MAIN["externalscrape"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"external_yes\" $style = \"display: " . ($MAIN["externalscrape"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Include External Peers</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\tEnable this feature to integrate external peers stats into internal peers stats.\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[includeexpeers]\" $value = \"yes\"" . ($MAIN["includeexpeers"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[includeexpeers]\" $value = \"no\"" . ($MAIN["includeexpeers"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable NZB Support</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members to upload &amp; download NZB files.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[ts_nzb_support]\" $value = \"yes\"" . ($MAIN["ts_nzb_support"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"MAIN[ts_nzb_support]\" $value = \"no\"" . ($MAIN["ts_nzb_support"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Tracker Name</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tName of your Tracker. This appears in the title of every page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[SITENAME]\" $value = \"" . $MAIN["SITENAME"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Tracker URL</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tURL of your Tracker. <b>Note:</b> DO NOT add a trailing slash. ('/')\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[BASEURL]\" $value = \"" . $MAIN["BASEURL"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Tracker Announce URL</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tURL of your Tracker Announce. <b>Note:</b> DO NOT add a trailing slash. ('/')\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[announce_urls]\" $value = \"" . $MAIN["announce_urls"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Tracker Email</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEmail address of your tracker.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[SITEEMAIL]\" $value = \"" . $MAIN["SITEEMAIL"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Tracker Contact Email</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tContact Email address of your tracker. This will be used on Contact Us Page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[contactemail]\" $value = \"" . $MAIN["contactemail"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Torrent Directory Path</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter storage path of Torrents.<br />Do NOT include the trailing slash ('/') after the directory name.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[torrent_dir]\" $value = \"" . $MAIN["torrent_dir"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Cache Directory Path</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter storage path of Cache Files.<br />Do NOT include the trailing slash ('/') after the directory name.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[cache]\" $value = \"" . $MAIN["cache"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Category Images Directory Path</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter path of Category Images.<br />Do NOT include the trailing slash ('/') after the directory name.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[table_cat]\" $value = \"" . $MAIN["table_cat"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Category Images Dimensions</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tCategory Images (Category List) Width and Height\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[table_cat_width]\" $value = \"" . $MAIN["table_cat_width"] . "\" $size = \"5\" /> x <input $type = \"text\" $name = \"MAIN[table_cat_height]\" $value = \"" . $MAIN["table_cat_height"] . "\" $size = \"5\" /> pixel\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tCategory Images (Torrent List) Width and Height\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[table_cat_width2]\" $value = \"" . $MAIN["table_cat_width2"] . "\" $size = \"5\" /> x <input $type = \"text\" $name = \"MAIN[table_cat_height2]\" $value = \"" . $MAIN["table_cat_height2"] . "\" $size = \"5\" /> pixel\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Image Directory Path</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter FULL URL Path of Images. Include the trailing slash ('/') after the directory name.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[pic_base_url]\" $value = \"" . $MAIN["pic_base_url"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Staff CP Directory Path</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tFor security reasons, you may want to change this path.<br /><b>Note:</b> Whenever you change this, you must also rename the staffcp folder name on your server. Also please don't forget to update your menu links.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"MAIN[staffcp_path]\" $value = \"" . $MAIN["staffcp_path"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_ANNOUNCE()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'ANNOUNCE'");
    $Result = mysqli_fetch_assoc($query);
    $ANNOUNCE = unserialize($Result["content"]);
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'MAIN'");
    $Result = mysqli_fetch_assoc($query);
    $MAIN = unserialize($Result["content"]);
    $XBTCONFIG = [];
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT * FROM xbt_config");
    while ($XBT = mysqli_fetch_assoc($query)) {
        $XBTCONFIG[$XBT["name"]] = $XBT["value"];
    }
    $BannedPeerIds = [];
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT peer_id FROM xbt_deny_from_clients");
    if (mysqli_num_rows($query)) {
        while ($Peerid = mysqli_fetch_row($query)) {
            $BannedPeerIds[] = base64_encode($Peerid[0]);
        }
    }
    $DetectedPeerIds = "";
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT peer_id FROM ts_peerid_list");
    if (mysqli_num_rows($query)) {
        while ($Peerid = mysqli_fetch_row($query)) {
            $DetectedPeerIds .= "<b>Client Name</b>: " . htmlspecialchars(substr($Peerid[0], 0, 8)) . "<br /><b>Peer ID:</b><br /><textarea $name = \"dpids\" $rows = \"1\" $cols = \"50\">" . base64_encode($Peerid[0]) . "</textarea><br /><small>Wanna ban this client? Copy the Peer ID Code shown above and paste it into \"XBT Banned Peer Ids\" area.</small><hr />";
        }
    }
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_bannedclient_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"bannedclient_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"bannedclient_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"bannedclient_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t\tfunction selected_xbt_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"xbt_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"xbt_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"xbt_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_announce&amp;$tab = 1&amp;$stab = 22\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"ANNOUNCE\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Announce Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable XBT</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to use XBT as backend.<br />More details available at: <a $href = \"https://templateshares.net/special/help/index.php?$type = xbt\">https://templateshares.net/special/help/index.php?$type = xbt</a>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $onclick = \"selected_xbt_type(this.value);\" $name = \"ANNOUNCE[xbt_active]\" $value = \"yes\"" . ($ANNOUNCE["xbt_active"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $onclick = \"selected_xbt_type(this.value);\" $name = \"ANNOUNCE[xbt_active]\" $value = \"no\"" . ($ANNOUNCE["xbt_active"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. Transfer Rate</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tOnce user has reached this transfer rate, we will try to detect user upload speed.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"ANNOUNCE[max_rate]\" $value = \"" . $ANNOUNCE["max_rate"] . "\" $size = \"10\" /> " . var_238($ANNOUNCE["max_rate"]) . "/s\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"xbt_no\" $style = \"display: " . ($ANNOUNCE["xbt_active"] == "no" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Announce System</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tIf you would like to temporarily (or permanently) prevent anyone use announce, you can do so. Anyone attempting to announce will be told that you are not accepting announcements at this time.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[announce_system]\" $value = \"yes\"" . ($ANNOUNCE["announce_system"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[announce_system]\" $value = \"no\"" . ($ANNOUNCE["announce_system"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Scrape System</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tIf you would like to temporarily (or permanently) prevent anyone use scrape feature, you can do so. Anyone attempting to use scrape feature will be told that you are not accepting scraping at this time. Disable this if you have performance issues.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[scrape_system]\" $value = \"yes\"" . ($ANNOUNCE["scrape_system"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[scrape_system]\" $value = \"no\"" . ($ANNOUNCE["scrape_system"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Log Announce Actions</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to allow system to save Announce Actions into Database.<br />You can manage Announce Actions by using <a $href = \"" . $_SERVER["SCRIPT_NAME"] . "?do=announce_actions\">Manage Announce Actions</a> Tool.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[announce_actions]\" $value = \"yes\"" . ($ANNOUNCE["announce_actions"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[announce_actions]\" $value = \"no\"" . ($ANNOUNCE["announce_actions"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Aggressive Cheat Detection</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to help system to catch Cheat Softwares such as Ratio Master.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[aggressivecheat]\" $value = \"yes\"" . ($ANNOUNCE["aggressivecheat"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[aggressivecheat]\" $value = \"no\"" . ($ANNOUNCE["aggressivecheat"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Check Connectable</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tCheck user connectable status before allow user to connect Peers.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[nc]\" $value = \"yes\"" . ($ANNOUNCE["nc"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[nc]\" $value = \"no\"" . ($ANNOUNCE["nc"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Detect Connectable</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tDetect user connectable status.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[A_checkconnectable]\" $value = \"yes\"" . ($ANNOUNCE["A_checkconnectable"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[A_checkconnectable]\" $value = \"no\"" . ($ANNOUNCE["A_checkconnectable"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Detect Browser Cheats</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to detect Browser Cheat attempts.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[detectbrowsercheats]\" $value = \"yes\"" . ($ANNOUNCE["detectbrowsercheats"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[detectbrowsercheats]\" $value = \"no\"" . ($ANNOUNCE["detectbrowsercheats"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Check Ip Addresses</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tCheck User IP Address before allow user to connect Peers.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[checkip]\" $value = \"yes\"" . ($ANNOUNCE["checkip"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"ANNOUNCE[checkip]\" $value = \"no\"" . ($ANNOUNCE["checkip"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Banned Client Detection</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tCheck User Client before allow user to connect Peers.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $onclick = \"selected_bannedclient_type(this.value);\" $type = \"radio\" $name = \"ANNOUNCE[bannedclientdetect]\" $value = \"yes\"" . ($ANNOUNCE["bannedclientdetect"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $onclick = \"selected_bannedclient_type(this.value);\" $type = \"radio\" $name = \"ANNOUNCE[bannedclientdetect]\" $value = \"no\"" . ($ANNOUNCE["bannedclientdetect"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t\t\t\t\t<div $id = \"bannedclient_no\" $style = \"display: " . ($ANNOUNCE["bannedclientdetect"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t\t\t\t\t<div $id = \"bannedclient_yes\" $style = \"display: " . ($ANNOUNCE["bannedclientdetect"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Allowed Clients</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tList of allowed clients (White List).<br />You can manage Allowed Clients by using <a $href = \"" . $_SERVER["SCRIPT_NAME"] . "?do=all_agents\">All Agents</a> Tool.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea $name = \"ANNOUNCE[allowed_clients]\" $cols = \"70\" $rows = \"4\">" . $ANNOUNCE["allowed_clients"] . "</textarea>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Banned P2P Ports</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tList of banned P2P ports.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<textarea $name = \"ANNOUNCE[banned_ports]\" $cols = \"70\" $rows = \"4\">" . $ANNOUNCE["banned_ports"] . "</textarea>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Flood Limit</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tMinimum Announce Refresh Time in seconds. Leave 0 to disable this feature.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ANNOUNCE[announce_wait]\" $value = \"" . $ANNOUNCE["announce_wait"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Announce Interval</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tAnnounce Update Time in Seconds. Leave this high to better performance.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ANNOUNCE[announce_interval]\" $value = \"" . $ANNOUNCE["announce_interval"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div $id = \"xbt_yes\" $style = \"display: " . ($ANNOUNCE["xbt_active"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">XBT Announce URL</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter XBT Announce URL here (http://siteurl.com:port).<br /><b>Note:</b> DO NOT add a trailing slash. ('/')<br /><b>Example:</b> http://yoursite.com:2710\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ANNOUNCE[xbt_announce_url]\" $value = \"" . $ANNOUNCE["xbt_announce_url"] . "\" $size = \"40\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">XBT Announce Interval</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tAnnounce Update Time in Seconds. Leave this high to better performance.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"XBTCONFIG[announce_interval]\" $value = \"" . $XBTCONFIG["announce_interval"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">XBT Listen Port</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tThe port in which XBT Tracker will run. <b>Default:</b> 2710 (TCP and UDP)\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"XBTCONFIG[listen_port]\" $value = \"" . $XBTCONFIG["listen_port"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">XBT Offline Message</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tThe offline message that will appear on the client program.<br /><b>Defaut:</b> Empty. If specifying a message the tracker will be offine.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<textarea $name = \"XBTCONFIG[offline_message]\" $rows = \"2\" $cols = \"50\">" . $XBTCONFIG["offline_message"] . "</textarea>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">XBT Redirect URL</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tThe URL to where the client is redirected if he/she tries to access the tracker URL via a normal browser.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"XBTCONFIG[redirect_url]\" $value = \"" . $XBTCONFIG["redirect_url"] . "\" $size = \"53\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">XBT Banned Peer Ids</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tEnter List of Banned Peer IDs (saperate with ,)<br /><br /><small>Please check this page: http://www.bittorrent.org/beps/bep_0020.html to view peer id codes.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<textarea $name = \"BannedPeerIds\" $rows = \"2\" $cols = \"50\">" . (count($BannedPeerIds) ? implode(",", $BannedPeerIds) : "") . "</textarea><Br /><small>To detect peer ids, use the following announce url in your client:<br /><b>" . $MAIN["BASEURL"] . "/ts_detect_peerid.php</b></small>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t" . ($DetectedPeerIds ? "\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Detected Peer Ids</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td $colspan = \"2\" class=\"alt0\">" . $DetectedPeerIds . "</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t" : "") . "\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_SIGNUP()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'SIGNUP'");
    $Result = mysqli_fetch_assoc($query);
    $SIGNUP = unserialize($Result["content"]);
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_welcomepm_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"send_welcome_pm_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"send_welcome_pm_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"send_welcome_pm_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_signup&amp;$tab = 1&amp;$stab = 33\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"SIGNUP\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Signup Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Allow New User Registrations</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tIf you would like to temporarily (or permanently) prevent anyone new from registering, you can do so. Anyone attempting to register will be told that you are not accepting new registrations at this time.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[registration]\" $value = \"on\"" . ($SIGNUP["registration"] == "on" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[registration]\" $value = \"off\"" . ($SIGNUP["registration"] == "off" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Invite System</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tFrom time to time, you may want to allow registrations only via Invite System. Enable this feature and Disable New User Registrations to allow Registrations only via Invite System.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[invitesystem]\" $value = \"on\"" . ($SIGNUP["invitesystem"] == "on" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[invitesystem]\" $value = \"off\"" . ($SIGNUP["invitesystem"] == "off" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">New User Verification Type</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAllows you to validate new members before they are classified as registered members.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[verification]\" $value = \"email\"" . ($SIGNUP["verification"] == "email" ? " $checked = \"checked\"" : "") . " /> Via Email\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[verification]\" $value = \"admin\"" . ($SIGNUP["verification"] == "admin" ? " $checked = \"checked\"" : "") . " /> Admin Moderation\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[verification]\" $value = \"automatic\"" . ($SIGNUP["verification"] == "automatic" ? " $checked = \"checked\"" : "") . " /> Automatic\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Disable Proxies</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDisable Registrations via Proxies.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[pd]\" $value = \"yes\"" . ($SIGNUP["pd"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[pd]\" $value = \"no\"" . ($SIGNUP["pd"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. IP Addresses</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDisable registrations with same IP Addresses. Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SIGNUP[maxip]\" $value = \"" . $SIGNUP["maxip"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. Users</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tMax. allowed Registered Users. When this limit reached, anyone attempting to register will be told that you are not accepting new registrations at this time.<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SIGNUP[maxusers]\" $value = \"" . $SIGNUP["maxusers"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">New User Default Usergroup</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSelect default usergroup of New Registered Users.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . function_139($SIGNUP["_d_usergroup"], "SIGNUP[_d_usergroup]", " WHERE `isbanned` = 'no' AND $cansettingspanel = 'no' AND $canstaffpanel = 'no' AND $issupermod = 'no' AND $isforummod = 'no'") . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Initial Number of Invites</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tHow many invites should each user be given upon registration?<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SIGNUP[invite_count]\" $value = \"" . $SIGNUP["invite_count"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Initial Amount of Upload</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tHow much upload amount should each user be given upon registration?<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SIGNUP[autogigsignup]\" $value = \"" . $SIGNUP["autogigsignup"] . "\" $size = \"10\" /> GB\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Initial Amount of Bonus Points</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tHow many Bonus Points should each user be given upon registration?<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SIGNUP[autosbsignup]\" $value = \"" . $SIGNUP["autosbsignup"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Bad Countries</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tEnter two letter country codes in here that you do not want people to be able to register. If any of the codes here are included within the user country, the user will told that there is an error.<br />Separate country names with a single comma ,<br />Example: RU,FR,RO\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"SIGNUP[badcountries]\" $cols = \"70\" $rows = \"4\">" . $SIGNUP["badcountries"] . "</textarea>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Illegal User Names</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tEnter names in here that you do not want people to be able to register. If any of the names here are included within the username, the user will be told that there is an error. For example, if you make the name <b>John</b> illegal, the name <b>John</b>athan will also be disallowed.<br />Separate names by spaces.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"SIGNUP[illegalusernames]\" $cols = \"70\" $rows = \"4\">" . $SIGNUP["illegalusernames"] . "</textarea>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Show Ajax Check Buttons</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAllow user to use Ajax Check feature for Username and Email.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[allow_ajax_check]\" $value = \"yes\"" . ($SIGNUP["allow_ajax_check"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[allow_ajax_check]\" $value = \"no\"" . ($SIGNUP["allow_ajax_check"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Gender Field</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAllow user to select the Gender during Registration.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_gender]\" $value = \"yes\"" . ($SIGNUP["r_gender"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_gender]\" $value = \"no\"" . ($SIGNUP["r_gender"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Birthday Field</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAllow user to enter the Birthday during Registration.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_bday]\" $value = \"yes\"" . ($SIGNUP["r_bday"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_bday]\" $value = \"no\"" . ($SIGNUP["r_bday"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Timezone Field</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAllow user to select the Timezone during Registration.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_timezone]\" $value = \"yes\"" . ($SIGNUP["r_timezone"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_timezone]\" $value = \"no\"" . ($SIGNUP["r_timezone"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Referrer Field</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAllow user to enter the Referrer during Registration.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_referrer]\" $value = \"yes\"" . ($SIGNUP["r_referrer"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_referrer]\" $value = \"no\"" . ($SIGNUP["r_referrer"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Country Field</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAllow user to select the Country during Registration.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_country]\" $value = \"yes\"" . ($SIGNUP["r_country"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_country]\" $value = \"no\"" . ($SIGNUP["r_country"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Secret Question Field</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tAllow user to enter the Secret Question during Registration.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_secretquestion]\" $value = \"yes\"" . ($SIGNUP["r_secretquestion"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SIGNUP[r_secretquestion]\" $value = \"no\"" . ($SIGNUP["r_secretquestion"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Send Welcome PM</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tEnabling this option will send a welcome private message to new users.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_welcomepm_type(this.value);\" $type = \"radio\" $name = \"SIGNUP[send_welcome_pm]\" $value = \"yes\"" . ($SIGNUP["send_welcome_pm"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_welcomepm_type(this.value);\" $type = \"radio\" $name = \"SIGNUP[send_welcome_pm]\" $value = \"no\"" . ($SIGNUP["send_welcome_pm"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"send_welcome_pm_no\" $style = \"display: " . ($SIGNUP["send_welcome_pm"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"send_welcome_pm_yes\" $style = \"display: " . ($SIGNUP["send_welcome_pm"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">PM Title</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease enter PM title here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $name = \"SIGNUP[send_welcome_pm_title]\" $value = \"" . $SIGNUP["send_welcome_pm_title"] . "\" $size = \"55\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">PM Body</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease enter PM body here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<textarea $name = \"SIGNUP[send_welcome_pm_body]\" $id = \"send_welcome_pm_body\" $cols = \"70\" $rows = \"15\">" . $SIGNUP["send_welcome_pm_body"] . "</textarea> \r\n\t\t\t\t\t\t\t\t\t<p><a $href = \"javascript:toggleEditor('send_welcome_pm_body');\"><img $src = \"images/tool_refresh.png\" $border = \"0\" /></a></p>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_MAIL()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'SMTP'");
    $Result = mysqli_fetch_assoc($query);
    $SMTP = unserialize($Result["content"]);
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_smtp_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"default\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"advanced\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"external\").style.$display = \"none\";\r\n\t\t\tTSGetID(selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_smtp&amp;$tab = 1&amp;$stab = 55\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"SMTP\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Mail Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Default Mail Type</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPlease select type of Default Mail type.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_smtp_type(this.value);\" $type = \"radio\" $name = \"SMTP[smtptype]\" $value = \"default\"" . ($SMTP["smtptype"] == "default" ? " $checked = \"checked\"" : "") . " /> Simple PHP Mail\r\n\t\t\t\t\t<input $onclick = \"selected_smtp_type(this.value);\" $type = \"radio\" $name = \"SMTP[smtptype]\" $value = \"advanced\"" . ($SMTP["smtptype"] == "advanced" ? " $checked = \"checked\"" : "") . " /> Advanced PHP Mail\r\n\t\t\t\t\t<input $onclick = \"selected_smtp_type(this.value);\" $type = \"radio\" $name = \"SMTP[smtptype]\" $value = \"external\"" . ($SMTP["smtptype"] == "external" ? " $checked = \"checked\"" : "") . " /> External SMTP Mail\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"default\" $style = \"display: " . ($SMTP["smtptype"] == "default" ? "inline" : "none") . ";\"></div>\r\n\r\n\t\t\t\t\t<div $id = \"advanced\" $style = \"display: " . ($SMTP["smtptype"] == "advanced" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">SMTP Host</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPease specify the host here. You may find that specifying an IP Address rather than a domain name, results in better performance.<br />Example: localhost\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SMTP[smtp_host]\" $value = \"" . $SMTP["smtp_host"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">SMTP Port</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease specify the port here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SMTP[smtp_port]\" $value = \"" . $SMTP["smtp_port"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t" . (strtoupper(substr(PHP_OS, 0, 3) == "WIN") ? "\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Sendmail From</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tFor Win32 only. <a $href = \"http://php.net/sendmail-from\" $target = \"_blank\">http://php.net/sendmail-from</a>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SMTP[smtp_from]\" $value = \"" . $SMTP["smtp_from"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t" : "\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Sendmail Path</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tFor Unix only.  You may supply arguments as well (default: \"sendmail -t -i\").<br /><a $href = \"http://php.net/sendmail-path\" $target = \"_blank\">http://php.net/sendmail-path</a>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease configure this option by editing PHP.INI configuration file.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t") . "\r\n\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div $id = \"external\" $style = \"display: " . ($SMTP["smtptype"] == "external" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">SMTP Host</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPease specify the host here. You may find that specifying an IP Address rather than a domain name, results in better performance. Example: smtp.gmail.com\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SMTP[smtpaddress]\" $value = \"" . $SMTP["smtpaddress"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">SMTP Port</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease specify the port here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SMTP[smtpport]\" $value = \"" . $SMTP["smtpport"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">SMTP Username</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tYour server requires authentication, please specify your username here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SMTP[accountname]\" $value = \"" . $SMTP["accountname"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">SMTP Password</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tYour server requires authentication, please specify your password here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"password\" $name = \"SMTP[accountpassword]\" $value = \"\" $size = \"50\" $autocomplete = \"off\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">SMTP Secure Connection</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tIf you've enabled External SMTP Mail and your server requires a TLS connection, please set this to yes.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"SMTP[secure_connection]\" $value = \"yes\"" . ($SMTP["secure_connection"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"SMTP[secure_connection]\" $value = \"no\"" . ($SMTP["secure_connection"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_DATE()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'DATETIME'");
    $Result = mysqli_fetch_assoc($query);
    $DATETIME = unserialize($Result["content"]);
    return "\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_datetime&amp;$tab = 1&amp;$stab = 66\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"DATETIME\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Date &amp; Time Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Format For Date</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tFormat in which the date is presented on tracker pages:<br />See: <a $href = \"http://www.php.net/manual-lookup.php?function=date\" $target = \"_blank\">http://www.php.net/manual-lookup.php?function=date</a><br /><br /><b>Examples:</b><br />US Format (e.g., 04-25-98): m-d-y<br />Expanded US Format (e.g., April 25th, 1998): F jS, Y<br />European Format (e.g., 25-04-98): d-m-y<br />Expanded European Format (e.g., 25th April 1998): jS F Y\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"DATETIME[dateformat]\" $value = \"" . $DATETIME["dateformat"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Format For Time</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tFormat in which the time is presented on tracker pages:<br />See: <a $href = \"http://www.php.net/manual-lookup.php?function=date\" $target = \"_blank\">http://www.php.net/manual-lookup.php?function=date</a><br /><br /><b>Examples:</b><br />AM/PM Time Format (eg, 11:15 PM): h:i A<br />24-Hour Format Time (eg, 23:15): H:i\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"DATETIME[timeformat]\" $value = \"" . $DATETIME["timeformat"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Format For Registration Date</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tThis is used to format the user's registration date, which is displayed on userdetails page.<br />See: <a $href = \"http://www.php.net/manual-lookup.php?function=date\" $target = \"_blank\">http://www.php.net/manual-lookup.php?function=date</a>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"DATETIME[regdateformat]\" $value = \"" . $DATETIME["regdateformat"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Default Time Zone Offset</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tTime zone offset for guests and new users.<br />Do not take DST into consideration, rather use the next option to enable/disable DST.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . function_141($DATETIME["timezoneoffset"]) . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Daylight Savings</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tIf Daylight Savings Time is currently in effect for the above time zone, enable this option so that guests will see the correct times. This has no effect on registered users as they control their DST options in the User CP.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"DATETIME[dstcorrection]\" $value = \"yes\"" . ($DATETIME["dstcorrection"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"DATETIME[dstcorrection]\" $value = \"no\"" . ($DATETIME["dstcorrection"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_THEME()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'THEME'");
    $Result = mysqli_fetch_assoc($query);
    $THEME = unserialize($Result["content"]);
    return "\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_theme&amp;$tab = 1&amp;$stab = 77\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"THEME\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Theme &amp; Language Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Default Language</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSelect the default language for your tracker. This language will be used for all guests, and any members who have not expressed a language preference in their options.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . function_142($THEME["defaultlanguage"]) . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Default Template</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSelect the default template for your tracker. This style will be used for all guests, and any members who have not expressed a template preference in their options, or are attempting to use a template that does not exist or is forbidden.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . function_143($THEME["defaulttemplate"]) . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Default Character Set</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter the character set of your website: Default is UTF-8\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"THEME[charset]\" $value = \"" . $THEME["charset"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Default Character Set for Ajax Features</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter the character set of your website for Ajax Features: Default is UTF-8\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"THEME[shoutboxcharset]\" $value = \"" . $THEME["shoutboxcharset"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Meta Keywords</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tEnter the meta keywords for all pages. These are used by search engines to index your pages with more relevance.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"THEME[metakeywords]\" $cols = \"70\" $rows = \"4\">" . $THEME["metakeywords"] . "</textarea>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Meta Description</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tEnter the meta description for all pages. This is used by search engines to index your pages more relevantly.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"THEME[metadesc]\" $cols = \"70\" $rows = \"4\">" . $THEME["metadesc"] . "</textarea>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_EXTRA()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'EXTRA'");
    $Result = mysqli_fetch_assoc($query);
    $EXTRA = unserialize($Result["content"]);
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_hitrun_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"hitrun_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"hitrun_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"hitrun_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_extra&amp;$tab = 1&amp;$stab = 88\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"EXTRA\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Extra Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Invite Ratio</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSet min. invite ratio. User must have this ratio before send any invition.<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[MinInviteRatio]\" $value = \"" . $EXTRA["MinInviteRatio"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Check Ratio</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tCheck user ratio before allow user to download any torrent.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_hitrun_type(this.value);\" $type = \"radio\" $name = \"EXTRA[hitrun]\" $value = \"yes\"" . ($EXTRA["hitrun"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_hitrun_type(this.value);\" $type = \"radio\" $name = \"EXTRA[hitrun]\" $value = \"no\"" . ($EXTRA["hitrun"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"hitrun_no\" $style = \"display: " . ($EXTRA["hitrun"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"hitrun_yes\" $style = \"display: " . ($EXTRA["hitrun"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Ratio</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tMin. Global ratio to allow users download a torrent.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[hitrun_ratio]\" $value = \"" . $EXTRA["hitrun_ratio"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable ZIP Feature</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to download torrent files as a compressed ZIP archive.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[usezip]\" $value = \"yes\"" . ($EXTRA["usezip"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[usezip]\" $value = \"no\"" . ($EXTRA["usezip"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Modify Torrent</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to insert your tracker name into torrent name during download.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[includesitename]\" $value = \"yes\"" . ($EXTRA["includesitename"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[includesitename]\" $value = \"no\"" . ($EXTRA["includesitename"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Thank-to-Download Mod</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to force users thank to uploader before download a torrent.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[thankbeforedl]\" $value = \"yes\"" . ($EXTRA["thankbeforedl"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[thankbeforedl]\" $value = \"no\"" . ($EXTRA["thankbeforedl"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable SSL</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow users use SSL downloads.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[ssldownload]\" $value = \"yes\"" . ($EXTRA["ssldownload"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[ssldownload]\" $value = \"no\"" . ($EXTRA["ssldownload"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Anonymizer</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to \"anonymize\" all outgoing links from your tracker to prevent the referrer information from being sent.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[a_anonymizer]\" $value = \"yes\"" . ($EXTRA["a_anonymizer"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[a_anonymizer]\" $value = \"no\"" . ($EXTRA["a_anonymizer"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. Characters in Signature Including BB Code Markup</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tThis is the maximum number of characters that can a users may use in his or her signature. This includes all markup codes that were used. This feature not applied to Staff Members.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[maxchar]\" $value = \"" . $EXTRA["maxchar"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Torrent Upload Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. Torrent File Size</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tYou can set the maximum size of uploaded torrent files. This number is in bytes.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[max_torrent_size]\" $value = \"" . $EXTRA["max_torrent_size"] . "\" $size = \"10\" /> " . var_238($EXTRA["max_torrent_size"]) . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Search Torrent</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to Search Torrent before allows user to upload.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[search_before_upload]\" $value = \"yes\"" . ($EXTRA["search_before_upload"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[search_before_upload]\" $value = \"no\"" . ($EXTRA["search_before_upload"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Torrent Details</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members enter Extra Torrent Details after Upload Completed.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[use_torrent_details]\" $value = \"yes\"" . ($EXTRA["use_torrent_details"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[use_torrent_details]\" $value = \"no\"" . ($EXTRA["use_torrent_details"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Custom Notice</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tEnter here whatever you want to show in Upload Page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"EXTRA[upload_page_notice]\" $id = \"upload_page_notice\" $cols = \"70\" $rows = \"15\">" . $EXTRA["upload_page_notice"] . "</textarea>\r\n\t\t\t\t\t<p><a $href = \"javascript:toggleEditor('upload_page_notice');\"><img $src = \"images/tool_refresh.png\" $border = \"0\" /></a></p>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Browse Page Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Ajax Search</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to use Ajax Search on Browse Page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[use_ajax_search]\" $value = \"yes\"" . ($EXTRA["use_ajax_search"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[use_ajax_search]\" $value = \"no\"" . ($EXTRA["use_ajax_search"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Show Recent Torrents</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to show Recent Torrents with Images.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[show_recent_torrents]\" $value = \"yes\"" . ($EXTRA["show_recent_torrents"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[show_recent_torrents]\" $value = \"no\"" . ($EXTRA["show_recent_torrents"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Tracker Categories</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter limit of Tracker Categories per row.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[tracker_cats_per_row]\" $value = \"" . $EXTRA["tracker_cats_per_row"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Tracker Categories Width</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter width of Tracker Categories.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[tracker_cats_width]\" $value = \"" . $EXTRA["tracker_cats_width"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Subtitles Upload Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. Subtitle File Size</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tYou can set the maximum size of uploaded subtitle files. This number is in bytes.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[max_subtitle_size]\" $value = \"" . $EXTRA["max_subtitle_size"] . "\" $size = \"10\" /> " . var_238($EXTRA["max_subtitle_size"]) . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Allowed File Types</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPlease enter allowed file types of Subtitles. Saperate with ,\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[subtitle_allowed_file_types]\" $value = \"" . $EXTRA["subtitle_allowed_file_types"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Uploader Form Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Uploader Form</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members to use Uploader Form.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[ul_form_enabled]\" $value = \"yes\"" . ($EXTRA["ul_form_enabled"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[ul_form_enabled]\" $value = \"no\"" . ($EXTRA["ul_form_enabled"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Upload Limit</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter Min. Upload Limit (in GB) to use this feature. <br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[ul_form_min_upload]\" $value = \"" . $EXTRA["ul_form_min_upload"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Ratio Limit</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnter Min. Ratio Limit to use this feature.<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"EXTRA[ul_form_min_ratio]\" $value = \"" . $EXTRA["ul_form_min_ratio"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Guest Account Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Guest Access</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSet this YES to enable Guest usergroup.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[guestaccess]\" $value = \"yes\"" . ($EXTRA["guestaccess"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"EXTRA[guestaccess]\" $value = \"no\"" . ($EXTRA["guestaccess"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Guest Usergroup ID</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDefault Usergroup ID of Guests.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t3200\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_CLEANUP()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'CLEANUP'");
    $Result = mysqli_fetch_assoc($query);
    $CLEANUP = unserialize($Result["content"]);
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_leechwarn_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"leechwarn_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"leechwarn_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"leechwarn_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t\tfunction selected_autoinvite_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"autoinvite_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"autoinvite_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"autoinvite_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_cleanup&amp;$tab = 1&amp;$stab = 99\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"CLEANUP\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Cleanup Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. Warning Limit</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tThe amount of limit to ban the user for.<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[ban_user_limit]\" $value = \"" . $CLEANUP["ban_user_limit"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Mark Torrents Invisible</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tMark torrents invisible if there is no recent activity within this time period (in days).<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[max_dead_torrent_time]\" $value = \"" . $CLEANUP["max_dead_torrent_time"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Delete Login Attempts</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDelete old-failed login attempts after this (in days).<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[delete_old_login_attempts]\" $value = \"" . $CLEANUP["delete_old_login_attempts"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Delete Tracker Invites</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDelete unaccepted invitions after this (in days).<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[delete_old_invites]\" $value = \"" . $CLEANUP["delete_old_invites"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Delete Social Group Invites</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDelete unaccepted social group invitions after this (in days).<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[delete_old_sg_invites]\" $value = \"" . $CLEANUP["delete_old_sg_invites"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Delete Requests</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDelete old & filled requests after this (in days).<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[delete_old_requests]\" $value = \"" . $CLEANUP["delete_old_requests"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Delete Unconfirmed Users</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDelete unconfirmed users after this (in days).<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[delete_old_unconfirmed_users]\" $value = \"" . $CLEANUP["delete_old_unconfirmed_users"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Delete Subscriptions</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDelete old & unfinished subscriptions (in days).<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[delete_old_subscriptions]\" $value = \"" . $CLEANUP["delete_old_subscriptions"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Delete Snatched</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDelete old snatch list (in days).<br />Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[delete_old_snatched]\" $value = \"" . $CLEANUP["delete_old_snatched"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Referrer Gift</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tGive upload gift to referrers when their friends promoted to a level up.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[referrergift]\" $value = \"" . $CLEANUP["referrergift"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Auto-Invite</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to give invites to specific usergroups.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_autoinvite_type(this.value);\" $type = \"radio\" $name = \"CLEANUP[ai]\" $value = \"yes\"" . ($CLEANUP["ai"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_autoinvite_type(this.value);\" $type = \"radio\" $name = \"CLEANUP[ai]\" $value = \"no\"" . ($CLEANUP["ai"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"autoinvite_no\" $style = \"display: " . ($CLEANUP["ai"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"autoinvite_yes\" $style = \"display: " . ($CLEANUP["ai"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Auto Invite Time</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter timeframe of Auto-Invite feature in days.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[autoinvitetime]\" $value = \"" . $CLEANUP["autoinvitetime"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Leech-Warning System</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to check global ratio of users.<br />This system may warn &amp; ban users due bad ratio.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_leechwarn_type(this.value);\" $type = \"radio\" $name = \"CLEANUP[leechwarn_system]\" $value = \"yes\"" . ($CLEANUP["leechwarn_system"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_leechwarn_type(this.value);\" $type = \"radio\" $name = \"CLEANUP[leechwarn_system]\" $value = \"no\"" . ($CLEANUP["leechwarn_system"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"leechwarn_no\" $style = \"display: " . ($CLEANUP["leechwarn_system"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"leechwarn_yes\" $style = \"display: " . ($CLEANUP["leechwarn_system"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Bad Ratio of Leech-Warning</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter amount of Leech Warning Ratio.<br />When users has ratio below this, they will get a Leech-Warning.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[leechwarn_min_ratio]\" $value = \"" . $CLEANUP["leechwarn_min_ratio"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Download Limit</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter amount of min. Download Limit in GB.<br />System will skip users who has a download amount below this.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[leechwarn_gig_limit]\" $value = \"" . $CLEANUP["leechwarn_gig_limit"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Good Ratio to Remove Leech-Warning</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter amount of Leech Warning Ratio.<br />When leech-warned users has ratio above this, their warning will be removed.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[leechwarn_remove_ratio]\" $value = \"" . $CLEANUP["leechwarn_remove_ratio"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Warning Length</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter Warning Length in Weeks.<br />System will ban leech-warned users after this timeframe.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"CLEANUP[leechwarn_length]\" $value = \"" . $CLEANUP["leechwarn_length"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_HIT()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'HITRUN'");
    $Result = mysqli_fetch_assoc($query);
    $HITRUN = unserialize($Result["content"]);
    $Categories = isset($HITRUN["Categories"]) && $HITRUN["Categories"] ? explode(",", $HITRUN["Categories"]) : [];
    $HRSkipUsergroups = [];
    if ($HITRUN["HRSkipUsergroups"]) {
        $HRSkipUsergroups = explode(",", $HITRUN["HRSkipUsergroups"]);
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids .= "</tr><tr>";
        }
        $sgids .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"usergroups[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $HRSkipUsergroups, true) ? " $checked = \"checked\"" : "") . " /></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_autohitrun_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"auto_hitrun_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"auto_hitrun_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"auto_hitrun_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_hitrun&amp;$tab = 1&amp;$stab = 100\" $name = \"hitrun\">\r\n\t<input $type = \"hidden\" $name = \"usergroups_implode_with\" $value = \",\" />\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"HITRUN\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Hit &amp; Run Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Auto-Hit&Run (Weekly cronjobs must be enabled)</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to warn users due bad ratio for downloaded torrents (each).<br /><b>Note:</b> This feature doesn't work if XBT feature enabled.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_autohitrun_type(this.value);\" $type = \"radio\" $name = \"HITRUN[Enabled]\" $value = \"yes\"" . ($HITRUN["Enabled"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_autohitrun_type(this.value);\" $type = \"radio\" $name = \"HITRUN[Enabled]\" $value = \"no\"" . ($HITRUN["Enabled"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"auto_hitrun_no\" $style = \"display: " . ($HITRUN["Enabled"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"auto_hitrun_yes\" $style = \"display: " . ($HITRUN["Enabled"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Ratio</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter minimum ratio per torrent.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"HITRUN[MinRatio]\" $value = \"" . $HITRUN["MinRatio"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Seed Time</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter minimum seed-time per torrent.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"HITRUN[MinSeedTime]\" $value = \"" . $HITRUN["MinSeedTime"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Min. Finish Date</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter minimum finish-date per torrent.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"HITRUN[MinFinishDate]\" $id = \"minfinishdate\" $value = \"" . ($HITRUN["MinFinishDate"] != "0000-00-00 00:00:00" ? date("Y-m-d", $HITRUN["MinFinishDate"]) : "") . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Wait Time-Limit (in hours)</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tDo not warn users whenever they stop the torrent within this time-limit.<br /><b>Example</b>: User X has torrent Z and seeded it a few hours, user X must shut-down his computer but he will continue to seed torrent Z tomorrow.. This limit is between Shut-down torrent and Re-Start Torrent Time-Limit.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"HITRUN[CanWait]\" $value = \"" . $HITRUN["CanWait"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Protected Usergroups</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease select usergroups that you don't want to warn due Hit & Run.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t" . $sgids . "\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Categories</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease select categories that you want to check for Hit & Run.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t" . var_411("hitrun", $Categories) . "\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction select_deselectAll(formname,elm,group)\r\n\t\t{\r\n\t\t\tvar $frm = document.forms[formname];\r\n\t\t\tfor($i = 0;i<frm.length;i++)\r\n\t\t\t{\r\n\t\t\t\tif(elm.attributes[\"checkall\"] != null && elm.attributes[\"checkall\"].$value = = group)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(frm.elements[i].attributes[\"checkme\"] != null && frm.elements[i].attributes[\"checkme\"].$value = = group)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfrm.elements[i].$checked = elm.checked;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(frm.elements[i].attributes[\"checkme\"] != null && frm.elements[i].attributes[\"checkme\"].$value = = group)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(frm.elements[i].$checked = = false)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfrm.elements[1].$checked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t</script>";
}
function TS_Create_Tabs_PAYMENT()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'PAYPAL'");
    $Result = mysqli_fetch_assoc($query);
    $PAYPAL = unserialize($Result["content"]);
    $udquery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title FROM usergroups WHERE $cansettingspanel = 'no' AND $canstaffpanel = 'no' AND $issupermod = 'no'");
    $udgids = "<select $name = \"PAYPAL[dspecificusergroup]\"><option $value = \"oldusergroup\"" . ($PAYPAL["dspecificusergroup"] == "oldusergroup" ? " $selected = \"selected\"" : "") . ">To their OLD Usergroup</option>";
    while ($udgid = mysqli_fetch_assoc($udquery)) {
        $udgids .= "<option $value = \"" . $udgid["gid"] . "\"" . ($PAYPAL["dspecificusergroup"] == $udgid["gid"] ? " $selected = \"selected\"" : "") . ">" . $udgid["title"] . "</option>";
    }
    $udgids .= "</select>";
    $protectedusergroups = isset($PAYPAL["protectedusergroups"]) && $PAYPAL["protectedusergroups"] ? explode(",", $PAYPAL["protectedusergroups"]) : [];
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups WHERE `isbanned` = 'no'");
    $scount = 1;
    for ($sgids = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids .= "</tr><tr>";
        }
        $sgids .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"protectedusergroups[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $protectedusergroups, true) ? " $checked = \"checked\"" : "") . " /></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    return "\t\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_paypal&amp;$tab = 1&amp;$stab = 111\" $name = \"paypal\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"PAYPAL\" />\r\n\t<input $type = \"hidden\" $name = \"usergroups_implode_with\" $value = \",\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Payment (PayPal) Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Paypal Sandbox</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tThe PayPal Sandbox is a testing environment that is a duplicate of the live PayPal site, except that no real money changes hands. The Sandbox allows you to test your entire integration before submitting transactions to the live PayPal environment. Create and manage test accounts, and view emails and API credentials for those test accounts. For more information, see the <a $href = \"https://cms.paypal.com//cms_content/US/en_US/files/developer/PP_Sandbox_UserGuide.pdf\" $target = \"_blank\">Sandbox User Guide</a> or the <a $href = \"http://www2.eventsvc.com/paypaldev/Sandbox_OD\">PayPal Sandbox: Getting started tutorial</a>.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"PAYPAL[paypal_demo_mode]\" $value = \"yes\"" . ($PAYPAL["paypal_demo_mode"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"PAYPAL[paypal_demo_mode]\" $value = \"no\"" . ($PAYPAL["paypal_demo_mode"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Server Fee</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPlease enter Server Fee here.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"PAYPAL[tn]\" $value = \"" . $PAYPAL["tn"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Inform Members</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPlease enter userid(s) which you want to send a information PM after a payment.<br />Saperate userids with <b>,</b>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"PAYPAL[informuserids]\" $value = \"" . $PAYPAL["informuserids"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Ex-Donor Usergroup</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDemote members to this Usergroup when their paid subs. expired.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . $udgids . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Protected Usergroups</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tSelect protected usergroups. System will remove donor status but will not change the usergroup to their old usergroup. Please notice, system also will not promote those usergroups whenever they made a payment via donation system.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . $sgids . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Custom Notice</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tEnter here whatever you want to show in Donate Page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"PAYPAL[wire_form]\" $id = \"wire_form\" $cols = \"70\" $rows = \"15\">" . $PAYPAL["wire_form"] . "</textarea><br />\r\n\t\t\t\t\t<p><a $href = \"javascript:toggleEditor('wire_form');\"><img $src = \"images/tool_refresh.png\" $border = \"0\" /></a></p>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_KPS()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'KPS'");
    $Result = mysqli_fetch_assoc($query);
    $KPS = unserialize($Result["content"]);
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'MAIN'");
    $Result = mysqli_fetch_assoc($query);
    $MAIN = unserialize($Result["content"]);
    require "../" . $MAIN["cache"] . "/freeleech.php";
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_kpstype_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"kps_time\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"kps_upload\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"kps_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t\tfunction selected_kpssystem_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"kps_enable\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"kps_disable\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"kps_disablesave\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"kps_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t\tfunction selected_kpsbday_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"kpsbday_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"kpsbday_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"kpsbday_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_kps&amp;$tab = 1&amp;$stab = 122\" $name = \"kps\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"KPS\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">KPS & Gift Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable KPS</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members earn points while seeding a torrent.<br /><b>Note:</b> This feature doesn't work if XBT feature enabled.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_kpssystem_type(this.value);\" $type = \"radio\" $name = \"KPS[bonus]\" $value = \"enable\"" . ($KPS["bonus"] == "enable" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_kpssystem_type(this.value);\" $type = \"radio\" $name = \"KPS[bonus]\" $value = \"disablesave\"" . ($KPS["bonus"] == "disablesave" ? " $checked = \"checked\"" : "") . " /> No, but save points.\r\n\t\t\t\t\t<input $onclick = \"selected_kpssystem_type(this.value);\" $type = \"radio\" $name = \"KPS[bonus]\" $value = \"disable\"" . ($KPS["bonus"] == "disable" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"kps_disable\" $style = \"display: " . ($KPS["bonus"] == "disable" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"kps_disablesave\" $style = \"display: " . ($KPS["bonus"] == "disablesave" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"kps_enable\" $style = \"display: " . ($KPS["bonus"] == "enable" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Select KPS Type</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease select type of KPS type. Select \"Time Based\" to calculate points per Seed Time, Select \"GB Based\" to calculate points per upload amount.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $onclick = \"selected_kpstype_type(this.value);\" $type = \"radio\" $name = \"KPS[kpstype]\" $value = \"time\"" . ($KPS["kpstype"] == "time" ? " $checked = \"checked\"" : "") . " /> Time Based\r\n\t\t\t\t\t\t\t\t\t<input $onclick = \"selected_kpstype_type(this.value);\" $type = \"radio\" $name = \"KPS[kpstype]\" $value = \"upload\"" . ($KPS["kpstype"] == "upload" ? " $checked = \"checked\"" : "") . " /> Upload Based (Not available for XBT)\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t\t\t\t\t<div $id = \"kps_time\" $style = \"display: " . ($KPS["kpstype"] == "time" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t\t\t\t\t<div $id = \"kps_upload\" $style = \"display: " . ($KPS["kpstype"] == "upload" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">GB Amount</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPlease enter GB Amount.<br /><small>\$multipler = round(\$userupload / (\$thisamount * 1024 * 1024 * 1024));<br />update_user[] = 'seedbonus = seedbonus + '.(\$kpsseed*\$multipler);</small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"KPS[kpsgbamount]\" $value = \"" . $KPS["kpsgbamount"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Seed Point</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow much point should we give user per seeds.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"KPS[kpsseed]\" $value = \"" . $KPS["kpsseed"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Upload Point</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow much point should we give user per uploads.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"KPS[kpsupload]\" $value = \"" . $KPS["kpsupload"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Post Point</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow much point should we give user per comments/posts.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"KPS[kpscomment]\" $value = \"" . $KPS["kpscomment"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Thank Point</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow much point should we give user per thank.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"KPS[kpsthanks]\" $value = \"" . $KPS["kpsthanks"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Post Rate</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow much point should we give user per rating.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"KPS[kpsrate]\" $value = \"" . $KPS["kpsrate"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Poll Point</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow much point should we give user per poll votes.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"KPS[kpspoll]\" $value = \"" . $KPS["kpspoll"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. Points</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter max. amount of Bonus Points.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"KPS[kpsmaxpoint]\" $value = \"" . $KPS["kpsmaxpoint"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Invite Usage</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to allow members trade points for invites.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpsinvite]\" $value = \"yes\"" . ($KPS["kpsinvite"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpsinvite]\" $value = \"no\"" . ($KPS["kpsinvite"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Custom Title Usage</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to allow members trade points for Custom Title.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpstitle]\" $value = \"yes\"" . ($KPS["kpstitle"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpstitle]\" $value = \"no\"" . ($KPS["kpstitle"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable VIP Usage</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to allow members trade points for VIP status.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpsvip]\" $value = \"yes\"" . ($KPS["kpsvip"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpsvip]\" $value = \"no\"" . ($KPS["kpsvip"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Gift Usage</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to allow members trade points for sending points to another user.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpsgift]\" $value = \"yes\"" . ($KPS["kpsgift"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpsgift]\" $value = \"no\"" . ($KPS["kpsgift"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Remove-Warning Usage</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to allow members trade points for removing warnings.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpswarning]\" $value = \"yes\"" . ($KPS["kpswarning"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpswarning]\" $value = \"no\"" . ($KPS["kpswarning"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Ratio-Fix Usage</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tEnable this feature to allow members trade points for fixing ratios per torrent.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpsratiofix]\" $value = \"yes\"" . ($KPS["kpsratiofix"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[kpsratiofix]\" $value = \"no\"" . ($KPS["kpsratiofix"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Birthday Reward Feature</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Birthday Reward Feature</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members earn points on their birthday. <br /><b>Note:</b> This feature doesn't work if XBT feature enabled.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_kpsbday_type(this.value);\" $type = \"radio\" $name = \"KPS[bdayreward]\" $value = \"yes\"" . ($KPS["bdayreward"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_kpsbday_type(this.value);\" $type = \"radio\" $name = \"KPS[bdayreward]\" $value = \"no\"" . ($KPS["bdayreward"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"kpsbday_no\" $style = \"display: " . ($KPS["bdayreward"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"kpsbday_yes\" $style = \"display: " . ($KPS["bdayreward"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Birthday Reward Type</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease select type of Birthday Reward Feature.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[bdayrewardtype]\" $value = \"freeleech\"" . ($KPS["bdayrewardtype"] == "freeleech" ? " $checked = \"checked\"" : "") . " /> Free-Leech\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[bdayrewardtype]\" $value = \"silverleech\"" . ($KPS["bdayrewardtype"] == "silverleech" ? " $checked = \"checked\"" : "") . " /> Silver-Leech\r\n\t\t\t\t\t\t\t\t\t<input $type = \"radio\" $name = \"KPS[bdayrewardtype]\" $value = \"doubleupload\"" . ($KPS["bdayrewardtype"] == "doubleupload" ? " $checked = \"checked\"" : "") . " /> Double-Upload\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Free-Leech Feature</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Select Free-Leech Type</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members download torrents free/silver/x2 between a time-frame.<br />Leave Start and End dates empty to disable this feature.<br /><b>Note:</b> This feature doesn't work if XBT feature enabled.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"__FLSTYPE\" $value = \"freeleech\"" . ($__FLSTYPE == "freeleech" ? " $checked = \"checked\"" : "") . " /> Free-Leech\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"__FLSTYPE\" $value = \"silverleech\"" . ($__FLSTYPE == "silverleech" ? " $checked = \"checked\"" : "") . " /> Silver-Leech\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"__FLSTYPE\" $value = \"doubleupload\"" . ($__FLSTYPE == "doubleupload" ? " $checked = \"checked\"" : "") . " /> Double-Upload\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Start Date</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter Free-Leech Start Date of this session.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"__F_START\" $id = \"__F_START\" $value = \"" . trim(str_replace("00:00:00", "", $__F_START)) . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">End Date</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter Free-Leech End Date of this session.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"__F_END\" $id = \"__F_END\" $value = \"" . trim(str_replace("00:00:00", "", $__F_END)) . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_IRC()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'PJIRC'");
    $Result = mysqli_fetch_assoc($query);
    $PJIRC = unserialize($Result["content"]);
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_pjircbot_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"ircbot_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"ircbot_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"ircbot_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_pjirc&amp;$tab = 1&amp;$stab = 133\" $name = \"pjirc\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"PJIRC\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">IRC Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">IRC Host</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPlease enter your IRC Host name here.<br /><b>Example: </b> irc.p2p-network.net\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"PJIRC[pjirchost]\" $value = \"" . $PJIRC["pjirchost"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">IRC Channel</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPlease enter your IRC Channel name here.<br /><b>Example: </b> #templateshares\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"PJIRC[pjircchannel]\" $value = \"" . $PJIRC["pjircchannel"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable IRC Bot</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to announce new uploads to your IRC Server.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_pjircbot_type(this.value);\" $type = \"radio\" $name = \"PJIRC[ircbot]\" $value = \"yes\"" . ($PJIRC["ircbot"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_pjircbot_type(this.value);\" $type = \"radio\" $name = \"PJIRC[ircbot]\" $value = \"no\"" . ($PJIRC["ircbot"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"ircbot_no\" $style = \"display: " . ($PJIRC["ircbot"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"ircbot_yes\" $style = \"display: " . ($PJIRC["ircbot"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Bot Ip</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter your IRC Bot Ip Address here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"PJIRC[botip]\" $value = \"" . $PJIRC["botip"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Bot Port</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPlease enter your IRC Bot Port here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"PJIRC[botport]\" $value = \"" . $PJIRC["botport"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_REQUEST()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'REQUEST'");
    $Result = mysqli_fetch_assoc($query);
    $REQUEST = unserialize($Result["content"]);
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_request_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"request_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"request_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"request_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_request&amp;$tab = 1&amp;$stab = 144\" $name = \"request\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"REQUEST\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Request Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Request System</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members request torrents.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_request_type(this.value);\" $type = \"radio\" $name = \"REQUEST[REQUESTONLINE]\" $value = \"yes\"" . ($REQUEST["REQUESTONLINE"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_request_type(this.value);\" $type = \"radio\" $name = \"REQUEST[REQUESTONLINE]\" $value = \"no\"" . ($REQUEST["REQUESTONLINE"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"request_no\" $style = \"display: " . ($REQUEST["REQUESTONLINE"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"request_yes\" $style = \"display: " . ($REQUEST["REQUESTONLINE"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max. Request</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow many requests user can post at a same time? Leave 0 to disable this feature.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"REQUEST[MAXREQUEST]\" $value = \"" . $REQUEST["MAXREQUEST"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Request Price</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tThis is min. required bonus points per request. Leave 0 to disable this feature.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"REQUEST[ADDREQUESTPOINT]\" $value = \"" . $REQUEST["ADDREQUESTPOINT"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Request Gift</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow much bonus points should we give users for filled requests. Leave 0 to disable this feature.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"REQUEST[FILLREQUESTPOINT]\" $value = \"" . $REQUEST["FILLREQUESTPOINT"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function function_145($SECURITY)
{
    $var_412 = "<select $name = \"SECURITY[reCAPTCHALanguage]\">";
    $var_413 = file("./../cache/languagecodes.txt");
    foreach ($var_413 as $var_289) {
        list($var_414, $var_342) = explode("~", $var_289);
        $var_412 .= "<option $value = \"" . $var_342 . "\"" . ($SECURITY["reCAPTCHALanguage"] == $var_342 ? " $selected = \"selected\"" : "") . ">" . $var_414 . "</option>";
    }
    $var_412 .= "</select>";
    return $var_412;
}
function TS_Create_Tabs_SECURITY()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'SECURITY'");
    $Result = mysqli_fetch_assoc($query);
    $SECURITY = unserialize($Result["content"]);
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_gd_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"reCAPTCHA\").style.$display = \"none\";\r\n\t\t\tTSGetID(selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_security&amp;$tab = 2&amp;$stab = security\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"SECURITY\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Security Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Private Tracker Patch</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to use Private Torrent authentication.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[privatetrackerpatch]\" $value = \"yes\"" . ($SECURITY["privatetrackerpatch"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[privatetrackerpatch]\" $value = \"no\"" . ($SECURITY["privatetrackerpatch"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Image Verification Type</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPlease select type of Default Image Verification type.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_gd_type(this.value);\" $type = \"radio\" $name = \"SECURITY[iv]\" $value = \"no\"" . ($SECURITY["iv"] == "no" ? " $checked = \"checked\"" : "") . " /> Disabled\r\n\t\t\t\t\t<input $onclick = \"selected_gd_type(this.value);\" $type = \"radio\" $name = \"SECURITY[iv]\" $value = \"yes\"" . ($SECURITY["iv"] == "yes" ? " $checked = \"checked\"" : "") . " /> GD Library\r\n\t\t\t\t\t<input $onclick = \"selected_gd_type(this.value);\" $type = \"radio\" $name = \"SECURITY[iv]\" $value = \"reCAPTCHA\"" . ($SECURITY["iv"] == "reCAPTCHA" ? " $checked = \"checked\"" : "") . " /> External reCAPTCHA \r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"no\" $style = \"display: " . ($SECURITY["iv"] == "no" ? "inline" : "none") . ";\"></div>\r\n\r\n\t\t\t\t\t<div $id = \"yes\" $style = \"display: " . ($SECURITY["iv"] == "yes" ? "inline" : "none") . ";\"></div>\r\n\r\n\t\t\t\t\t<div $id = \"reCAPTCHA\" $style = \"display: " . ($SECURITY["iv"] == "reCAPTCHA" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">reCAPTCHA Public Key</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPublic key provided to you by <a $href = \"https://www.google.com/recaptcha/\" $target = \"_blank\">reCAPTCHA</a>.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SECURITY[reCAPTCHAPublickey]\" $value = \"" . $SECURITY["reCAPTCHAPublickey"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">reCAPTCHA Private Key</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tPrivate key provided to you by <a $href = \"https://www.google.com/recaptcha/\" $target = \"_blank\">reCAPTCHA</a>.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SECURITY[reCAPTCHAPrivatekey]\" $value = \"" . $SECURITY["reCAPTCHAPrivatekey"] . "\" $size = \"50\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">reCAPTCHA Language</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\treCAPTCHA provides different languages for their CAPTCHA's.<br />This option allows you to select the default language of reCAPTCHA.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t" . function_145($SECURITY) . "\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Disable Right Mouse Click</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tThis is a cross browser DHTML script that will prevent the default right menu from popping up when the right mouse is clicked on the web page. Use it to stop surfers from easily saving your web page, viewing its source, or lifting images off your site when using either IE 4+ or NS 4+. Definitely useful for many site owners.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[disablerightclick]\" $value = \"yes\"" . ($SECURITY["disablerightclick"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[disablerightclick]\" $value = \"no\"" . ($SECURITY["disablerightclick"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Aggressive IP Ban</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow system to check banned IP Addresses in Aggressive Mode.<br />Disable this if you have performance issues.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[aggressivecheckip]\" $value = \"yes\"" . ($SECURITY["aggressivecheckip"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[aggressivecheckip]\" $value = \"no\"" . ($SECURITY["aggressivecheckip"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Aggressive Email Ban</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow system to check banned Email Addresses in Aggressive Mode.<br />Disable this if you have performance issues.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[aggressivecheckemail]\" $value = \"yes\"" . ($SECURITY["aggressivecheckemail"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[aggressivecheckemail]\" $value = \"no\"" . ($SECURITY["aggressivecheckemail"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable CrackerTracker Professional</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tThis is a complete security system for TS SE Trackers. It protects against session cracks, floods, search overloads, worm attacks, BruteForce Attacks, Mass Mailing and much more to reduce Traffic and to protect Tracker.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[ctracker]\" $value = \"yes\"" . ($SECURITY["ctracker"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SECURITY[ctracker]\" $value = \"no\"" . ($SECURITY["ctracker"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Limit of Login \"Strikes\" System</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tThe system that prevents a user (with a specific IP address) from logging into an account after entering an incorrect password " . $SECURITY["maxloginattempts"] . " times.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SECURITY[maxloginattempts]\" $value = \"" . $SECURITY["maxloginattempts"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Secure Hash</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPlease enter a secure word that only known by you.<br />Change this to force users to re-login.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SECURITY[securehash]\" $value = \"" . $SECURITY["securehash"] . "\" $size = \"70\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Censored Words</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tType all words you want censored in the field below. Use commas to separate words. For example, type 'dog,cat,boy'\r\n\t\t\t\t\t<br /><br />\r\n\t\t\t\t\tIf you type 'dog', all words containing the string 'dog' would be censored (dogma, for instance, would appear as '***ma'). To censor more accurately, you can require that censors occur only for exact words. You can do this by placing a censor word in curly braces, as in {dog}. Signifying 'dog' in the curly braces would mean that dogma would appear as dogma, but dog would appear as '***'. Thus your censor list may appear as: cat,{dog},{barn},barn\r\n\t\t\t\t\t<br /><br />\r\n\t\t\t\t\tDo not use quotation marks and make sure you use curly braces, not parentheses, when specifying exact words.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"SECURITY[badwords]\" $cols = \"70\" $rows = \"4\">" . $SECURITY["badwords"] . "</textarea>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Character to Replace Censored Words</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tThis character (or characters) will be used to replace censored words. For example, if you have censored the word 'dog' and you set the censor character here to an asterisk (*) then any occurrences of 'dog' in messages will appear as '***'.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SECURITY[censorchar]\" $value = \"" . $SECURITY["censorchar"] . "\" $size = \"5\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Post Referrer Whitelist</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tFor security purposes, TS SE only allows data to be submitted via post from within the domain the tracker is installed on. If you are submitting post requests from a different domain or subdomain, you must add them here. Enter domains in the form of .domain.com (including the leading dot). Separate multiple domains by line breaks.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"SECURITY[allowedreferrers]\" $cols = \"70\" $rows = \"4\">" . $SECURITY["allowedreferrers"] . "</textarea>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_TWEAK()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'TWEAK'");
    $Result = mysqli_fetch_assoc($query);
    $TWEAK = unserialize($Result["content"]);
    $CanMemcache = false;
    if (class_exists("Memcache", false)) {
        $CanMemcache = true;
    }
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_cache_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"cache_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"cache_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"cache_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_tweak&amp;$tab = 3&amp;$stab = tweak\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"TWEAK\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Tweak Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Log PHP Errors</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to save detected system errors into Database. You can view those errors by using <a $href = \"index.php?do=tracker_logs\">Show Tracker Logs</a> tool.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<select $name = \"TWEAK[logphperrors]\">\r\n\t\t\t\t\t\t<option $value = \"savelogs\"" . ($TWEAK["logphperrors"] == "savelogs" ? " $selected = \"selected\"" : "") . ">Save Logs</option>\r\n\t\t\t\t\t\t<option $value = \"onlyshow\"" . ($TWEAK["logphperrors"] == "onlyshow" ? " $selected = \"selected\"" : "") . ">Only Show (recommened)</option>\r\n\t\t\t\t\t\t<option $value = \"all\"" . ($TWEAK["logphperrors"] == "all" ? " $selected = \"selected\"" : "") . ">Save & Show</option>\r\n\t\t\t\t\t\t<option $value = \"disabled\"" . ($TWEAK["logphperrors"] == "disabled" ? " $selected = \"selected\"" : "") . ">Nothing to do</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Redirection Message Pages</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tDisabling this option will remove the update pages that are displayed after a user makes a post, starts a search, etc. These pages provide assurance to the user that their information has been processed by the forum/tracker. Disabling these pages will save you bandwidth and may lessen the load of the forum/tracker on your server.<br /><b>Note:</b> Some pages will still use the redirection page when cookies are involved to prevent some potential problems.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[useredirectsystem]\" $value = \"yes\"" . ($TWEAK["useredirectsystem"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[useredirectsystem]\" $value = \"no\"" . ($TWEAK["useredirectsystem"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Save User Location</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to save user last location into database.<br />This will be displayed on userdetails page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[where]\" $value = \"yes\"" . ($TWEAK["where"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[where]\" $value = \"no\"" . ($TWEAK["where"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Save User IP Addresses</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to save user Ip Addresses into database.<br />This will be displayed on userdetails page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[iplog1]\" $value = \"yes\"" . ($TWEAK["iplog1"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[iplog1]\" $value = \"no\"" . ($TWEAK["iplog1"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable GZIP Compression</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tIf your server is running off of apache, then you can turn this setting on to compress your pages potentially making your site much quicker.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[gzipcompress]\" $value = \"yes\"" . ($TWEAK["gzipcompress"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[gzipcompress]\" $value = \"no\"" . ($TWEAK["gzipcompress"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Content Caching</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSetting this to 'No' will disable content caching. Some content is cached to speed up page load times. Disabling content caching forces content to be fetched directly and not from the cache.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_cache_type(this.value);\" $type = \"radio\" $name = \"TWEAK[cachesystem]\" $value = \"yes\"" . ($TWEAK["cachesystem"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_cache_type(this.value);\" $type = \"radio\" $name = \"TWEAK[cachesystem]\" $value = \"no\"" . ($TWEAK["cachesystem"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"cache_no\" $style = \"display: " . ($TWEAK["cachesystem"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"cache_yes\" $style = \"display: " . ($TWEAK["cachesystem"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Content Caching Timeout</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\t\t\t\t\tHow frequent (in minutes) should we re-update cached content files in cache folder.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"TWEAK[cachetime]\" $value = \"" . $TWEAK["cachetime"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Snatch Mod</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to save user snatched torrents into database.<br /><b>Note:</b> This feature doesn't work if XBT feature enabled.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[snatchmod]\" $value = \"yes\"" . ($TWEAK["snatchmod"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[snatchmod]\" $value = \"no\"" . ($TWEAK["snatchmod"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Torrent-Speed Mod</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to show Torrent Speed on Browse page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[torrentspeed]\" $value = \"yes\"" . ($TWEAK["torrentspeed"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[torrentspeed]\" $value = \"no\"" . ($TWEAK["torrentspeed"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Progress-Bar Mod</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to show a Progress-Bar for each torrent on Browse page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[progressbar]\" $value = \"yes\"" . ($TWEAK["progressbar"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[progressbar]\" $value = \"no\"" . ($TWEAK["progressbar"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Rating Mod</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow users rate any torrent.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[ratingsystem]\" $value = \"yes\"" . ($TWEAK["ratingsystem"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[ratingsystem]\" $value = \"no\"" . ($TWEAK["ratingsystem"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Thanks Mod</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow users thank any torrent/post.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[thankssystem]\" $value = \"yes\"" . ($TWEAK["thankssystem"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[thankssystem]\" $value = \"no\"" . ($TWEAK["thankssystem"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Show Similar Torrents</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSet this value to 'Yes' if you would like to see 'similar torrents' displayed on the torrent details page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[showsmiliartorrents]\" $value = \"yes\"" . ($TWEAK["showsmiliartorrents"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[showsmiliartorrents]\" $value = \"no\"" . ($TWEAK["showsmiliartorrents"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Show Subtitles</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSet this value to 'Yes' if you would like to see 'subtitles' displayed on the torrent details page.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[showsubtitles]\" $value = \"yes\"" . ($TWEAK["showsubtitles"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[showsubtitles]\" $value = \"no\"" . ($TWEAK["showsubtitles"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Full-Text Search</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tFulltext searching uses a search index that is constructed by MySQL itself.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[fulltextsearch]\" $value = \"yes\"" . ($TWEAK["fulltextsearch"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[fulltextsearch]\" $value = \"no\"" . ($TWEAK["fulltextsearch"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Check &amp; Show Connectable</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow system to check user connectable status and show a warning message if user isn't connectable.<br /><b>Note:</b> This feature doesn't work if XBT feature enabled.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[checkconnectable]\" $value = \"yes\"" . ($TWEAK["checkconnectable"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[checkconnectable]\" $value = \"no\"" . ($TWEAK["checkconnectable"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Save Referrers</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to detech &amp; save referrers into database.<br />You can manage referrers by using <a $href = \"" . $_SERVER["SCRIPT_NAME"] . "?do=referrer_list\">Show Referrer List</a> tool.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[ref]\" $value = \"yes\"" . ($TWEAK["ref"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[ref]\" $value = \"no\"" . ($TWEAK["ref"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Per Page Limit</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tThe number of records per page that will be shown by default before the results are split over multiple pages.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"TWEAK[ts_perpage]\" $value = \"" . $TWEAK["ts_perpage"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">*NIX Server Load Limit</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tTS SE can read the overall load of the server on certain *NIX setups (including Linux). This allows TS SE to determine the load on the server and processor, and to turn away further users if the load becomes too high.<br /><br />If you do not want to use this option, set it to 0.<br />A typical level would be 5.00 for a reasonable warning level.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"TWEAK[loadlimit]\" $value = \"" . $TWEAK["loadlimit"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Memcached</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\" $align = \"justify\">\r\n\t\t\t\t\t<h3>What is Memcached?</h3>\r\n\r\n\t\t\t\t\t<p><strong>Free &amp; open source, high-performance, distributed memory object caching system</strong>, generic in nature, but intended for use in speeding up dynamic web applications by alleviating database load.</p>\r\n\r\n\t\t\t\t\t<p>Memcached is an in-memory key-value store for small chunks of arbitrary data (strings, objects) from results of database calls, API calls, or page\r\n\t\t\t\t\trendering.</p>\r\n\r\n\t\t\t\t\t<h3>Requirements</h3>\r\n\t\t\t\t\tPHP Memcache Class: http://www.php.net/manual/en/memcache.setup.php<br />\r\n\t\t\t\t\tMemcached: http://memcached.org/\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t" . (!$CanMemcache ? "\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\"><font $color = \"red\">Unfortunately you can not use this feature at this moment. You must install PHP memcache class and *Nix Memcached.</font></td>\r\n\t\t\t</tr>" : "\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Memcached</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to boost your tracker performance!\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[memcached_enabled]\" $value = \"yes\"" . (isset($TWEAK["memcached_enabled"]) && $TWEAK["memcached_enabled"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"TWEAK[memcached_enabled]\" $value = \"no\"" . (!isset($TWEAK["memcached_enabled"]) || $TWEAK["memcached_enabled"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Memcached Host</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPoint to the host where memcached is listening for connections. This parameter may also specify other transports like unix:///path/to/memcached.sock  to use UNIX domain sockets, in this case port must also be set to 0. <b>Example</b>: localhost <b>Example</b>: 127.0.0.1\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"TWEAK[memcached_host]\" $value = \"" . (isset($TWEAK["memcached_host"]) ? $TWEAK["memcached_host"] : "localhost") . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Memcached Port</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tPoint to the port where memcached is listening for connections. Set this parameter to 0 when using UNIX domain sockets. <b>Example</b>:  11211\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"TWEAK[memcached_port]\" $value = \"" . (isset($TWEAK["memcached_port"]) ? $TWEAK["memcached_port"] : 11211) . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>") . "\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_LOTTERY()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'LOTTERY'");
    $Result = mysqli_fetch_assoc($query);
    $LOTTERY = unserialize($Result["content"]);
    $lottery_allowed_usergroups = [];
    if ($LOTTERY["lottery_allowed_usergroups"]) {
        $lottery_allowed_usergroups = explode(",", $LOTTERY["lottery_allowed_usergroups"]);
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids .= "</tr><tr>";
        }
        $sgids .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"usergroups[]\" $value = \"[" . $gid["gid"] . "]\"" . (in_array("[" . $gid["gid"] . "]", $lottery_allowed_usergroups, true) ? " $checked = \"checked\"" : "") . " /></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_lottery_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"lottery_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"lottery_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"lottery_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_lottery&amp;$tab = 4&amp;$stab = lottery\">\r\n\t<input $type = \"hidden\" $name = \"usergroups_implode_with\" $value = \",\" />\r\n\t<input $type = \"hidden\" $name = \"LOTTERY[lottery_last_winners]\" $value = \"" . $LOTTERY["lottery_last_winners"] . "\" />\r\n\t<input $type = \"hidden\" $name = \"LOTTERY[lottery_last_winners_amount]\" $value = \"" . $LOTTERY["lottery_last_winners_amount"] . "\" />\r\n\t<input $type = \"hidden\" $name = \"LOTTERY[lottery_last_winners_date]\" $value = \"" . $LOTTERY["lottery_last_winners_date"] . "\" />\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"LOTTERY\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Lottery Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Lottery System</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow users play Lottery.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_lottery_type(this.value);\" $type = \"radio\" $name = \"LOTTERY[lottery_enabled]\" $value = \"yes\"" . ($LOTTERY["lottery_enabled"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_lottery_type(this.value);\" $type = \"radio\" $name = \"LOTTERY[lottery_enabled]\" $value = \"no\"" . ($LOTTERY["lottery_enabled"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"lottery_no\" $style = \"display: " . ($LOTTERY["lottery_enabled"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"lottery_yes\" $style = \"display: " . ($LOTTERY["lottery_enabled"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Allowed Usergroup(s)</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease select usergroup(s) that you want to use Lottery System.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t" . $sgids . "\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Ticket Price</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tHow much is a Lottery Ticket (GB)?\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"LOTTERY[lottery_ticket_amount]\" $value = \"" . $LOTTERY["lottery_ticket_amount"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Winner Gift</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tHow much upload amount should we give to winners?.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"LOTTERY[lottery_winner_amount]\" $value = \"" . $LOTTERY["lottery_winner_amount"] . "\" $size = \"5\" />\r\n\t\t\t\t\t\t\t\t\t<select $name = \"LOTTERY[lottery_amount_type]\">\r\n\t\t\t\t\t\t\t\t\t\t<option $value = \"MB\"" . ($LOTTERY["lottery_amount_type"] == "MB" ? " $selected = \"selected\"" : "") . ">MB</option>\r\n\t\t\t\t\t\t\t\t\t\t<option $value = \"GB\"" . ($LOTTERY["lottery_amount_type"] == "GB" ? " $selected = \"selected\"" : "") . ">GB</option>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max.Tickets</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tHow many tickets user can buy?\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"LOTTERY[lottery_max_tickets_per_user]\" $value = \"" . $LOTTERY["lottery_max_tickets_per_user"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max.Winners</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tHow many gift should we send to winners (per session)?\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"LOTTERY[lottery_max_winners]\" $value = \"" . $LOTTERY["lottery_max_winners"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Lottery Begin Date</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease enter Lottery Begin Date of this session.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"LOTTERY[lottery_begin_date]\" $id = \"lottery_begin_date\" $value = \"" . $LOTTERY["lottery_begin_date"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Lottery End Date</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease enter Lottery End Date of this session.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"LOTTERY[lottery_end_date]\" $id = \"lottery_end_date\" $value = \"" . $LOTTERY["lottery_end_date"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_SHOUTBOX()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'SHOUTBOX'");
    $Result = mysqli_fetch_assoc($query);
    $SHOUTBOX = unserialize($Result["content"]);
    if (!($s_cansendps = explode(",", $SHOUTBOX["s_cansendps"]))) {
        $s_cansendps = [];
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids_PMPERM = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids_PMPERM .= "</tr><tr>";
        }
        $sgids_PMPERM .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"s_cansendps[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $s_cansendps) ? " $checked = \"checked\"" : "") . "></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids_PMPERM .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    if (!($s_pc2perm = explode(",", $SHOUTBOX["s_pc2perm"]))) {
        $s_pc2perm = [];
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids_R2PERM = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids_R2PERM .= "</tr><tr>";
        }
        $sgids_R2PERM .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"s_pc2perm[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $s_pc2perm) ? " $checked = \"checked\"" : "") . "></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids_R2PERM .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    if (!($s_pc3perm = explode(",", $SHOUTBOX["s_pc3perm"]))) {
        $s_pc3perm = [];
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids_R3PERM = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids_R3PERM .= "</tr><tr>";
        }
        $sgids_R3PERM .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"s_pc3perm[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $s_pc3perm) ? " $checked = \"checked\"" : "") . "></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids_R3PERM .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    if (!($s_pc4perm = explode(",", $SHOUTBOX["s_pc4perm"]))) {
        $s_pc4perm = [];
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids_R4PERM = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids_R4PERM .= "</tr><tr>";
        }
        $sgids_R4PERM .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"s_pc4perm[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $s_pc4perm) ? " $checked = \"checked\"" : "") . "></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids_R4PERM .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    if (!($s_pc5perm = explode(",", $SHOUTBOX["s_pc5perm"]))) {
        $s_pc5perm = [];
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids_R5PERM = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids_R5PERM .= "</tr><tr>";
        }
        $sgids_R5PERM .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"s_pc5perm[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $s_pc5perm) ? " $checked = \"checked\"" : "") . "></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids_R5PERM .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_shoutbot_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"shoutbot_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"shoutbot_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"shoutbot_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_shoutbox&amp;$tab = 5&amp;$stab = shoutbox\">\r\n\t<input $type = \"hidden\" $name = \"usergroups_implode_with\" $value = \",\" />\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"SHOUTBOX\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Shoutbox Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Shoutbox Announcement</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter shoutbox announcement here.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<textarea $name = \"SHOUTBOX[S_ANNOUNCEMENT]\" $id = \"S_ANNOUNCEMENT\" $cols = \"70\" $rows = \"4\">" . $SHOUTBOX["S_ANNOUNCEMENT"] . "</textarea>\r\n\t\t\t\t\t<p><a $href = \"javascript:toggleEditor('S_ANNOUNCEMENT');\"><img $src = \"images/tool_refresh.png\" $border = \"0\" /></a></p>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Auto Refresh</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tHow frequent (in seconds) should we update shoutbox.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[S_REFRESHTIME]\" $value = \"" . $SHOUTBOX["S_REFRESHTIME"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Inactivity</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tHow frequent (in minutes) should we disable shoutbox due inactivity.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[S_INACTIVITY]\" $value = \"" . $SHOUTBOX["S_INACTIVITY"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Shout Perpage</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tThe number of records per page that will be shown by default.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[S_SPERPAGE]\" $value = \"" . $SHOUTBOX["S_SPERPAGE"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Auto Delete</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tHow frequent (in hours) should we delete old shouts. Leave 0 to disable this feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[S_DELETESTIME]\" $value = \"" . $SHOUTBOX["S_DELETESTIME"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">DIV Height</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter shoutbox div height here.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[S_DIVHEIGHT]\" $value = \"" . $SHOUTBOX["S_DIVHEIGHT"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Textarea Height</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter shoutbox textarea height here.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[S_TEXTAHEIGHT]\" $value = \"" . $SHOUTBOX["S_TEXTAHEIGHT"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Textarea Width</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter shoutbox textarea width here.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[S_TEXTAWIDTH]\" $value = \"" . $SHOUTBOX["S_TEXTAWIDTH"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable ShoutBot?</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to announce New User Registrations, New Uploads, New Requests, New Threads/Posts and Polls.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_shoutbot_type(this.value);\" $type = \"radio\" $name = \"SHOUTBOX[tsshoutbot]\" $value = \"yes\"" . ($SHOUTBOX["tsshoutbot"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_shoutbot_type(this.value);\" $type = \"radio\" $name = \"SHOUTBOX[tsshoutbot]\" $value = \"no\"" . ($SHOUTBOX["tsshoutbot"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"shoutbot_no\" $style = \"display: " . ($SHOUTBOX["tsshoutbot"] == "no" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"shoutbot_yes\" $style = \"display: " . ($SHOUTBOX["tsshoutbot"] == "yes" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">ShoutBot Name</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease enter shoutbox Bot name here.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[tsshoutbotname]\" $value = \"" . $SHOUTBOX["tsshoutbotname"] . "\" $size = \"30\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">ShoutBot Options</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tPlease select shoutbox Bot options. Saperate with ,<br /><b>Example:</b> newuser,upload<br /><b>Example:</b> request,poll<br /><b>Example:</b> newuser,upload,request,poll,newthread,newpost\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[tsshoutboxoptions]\" $value = \"" . $SHOUTBOX["tsshoutboxoptions"] . "\" $size = \"30\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Edit Feature</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members edit their own shouts.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SHOUTBOX[S_CANEDIT]\" $value = \"yes\"" . ($SHOUTBOX["S_CANEDIT"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SHOUTBOX[S_CANEDIT]\" $value = \"no\"" . ($SHOUTBOX["S_CANEDIT"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Enable Delete Feature</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tEnable this feature to allow members delete their own shouts.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SHOUTBOX[S_CANDELETE]\" $value = \"yes\"" . ($SHOUTBOX["S_CANDELETE"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $type = \"radio\" $name = \"SHOUTBOX[S_CANDELETE]\" $value = \"no\"" . ($SHOUTBOX["S_CANDELETE"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Disabled BBCODE Tags</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter disabled BBCODE Tags here.<br />Saperate tags with ,<br /><b>Example:</b>YOUTUBE,IMG\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTBOX[S_DISABLETAGS]\" $value = \"" . $SHOUTBOX["S_DISABLETAGS"] . "\" $size = \"50\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Shoutbox Permissions</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Private Shout Permissions</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease select usergroup(s) that you want to use Private Shout Feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . $sgids_PMPERM . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Room 2 (Admin Room)</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease select usergroup(s) that you want to see this room.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . $sgids_R2PERM . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Room 3 (Staff Room)</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease select usergroup(s) that you want to see this room.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . $sgids_R3PERM . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Room 4 (VIP Room)</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease select usergroup(s) that you want to see this room.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . $sgids_R4PERM . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Room 5 (Uploader Room)</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease select usergroup(s) that you want to see this room.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . $sgids_R5PERM . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_ALBUM()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'ALBUM'");
    $Result = mysqli_fetch_assoc($query);
    $ALBUM = unserialize($Result["content"]);
    if (!($album_can_upload_usergroups = explode(",", $ALBUM["album_can_upload_usergroups"]))) {
        $album_can_upload_usergroups = [];
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids .= "</tr><tr>";
        }
        $sgids .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"album_can_upload_usergroups[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $album_can_upload_usergroups) ? " $checked = \"checked\"" : "") . "></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    if (!($album_can_view_usergroups = explode(",", $ALBUM["album_can_view_usergroups"]))) {
        $album_can_view_usergroups = [];
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids2 = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids2 .= "</tr><tr>";
        }
        $sgids2 .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"album_can_view_usergroups[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $album_can_view_usergroups) ? " $checked = \"checked\"" : "") . "></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids2 .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    return "\r\n\t<script $type = \"text/javascript\">\r\n\t\tfunction selected_album_type(selected)\r\n\t\t{\r\n\t\t\tTSGetID(\"album_disabled_no\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"album_disabled_yes\").style.$display = \"none\";\r\n\t\t\tTSGetID(\"album_disabled_\"+selected).style.$display = \"inline\";\r\n\t\t}\r\n\t</script>\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_album&amp;$tab = 6&amp;$stab = album\">\r\n\t<input $type = \"hidden\" $name = \"usergroups_implode_with\" $value = \",\" />\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"ALBUM\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Album Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Disable Album</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\">\r\n\t\t\t\t\tSelect this \"yes\" to disable Album Feature.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $onclick = \"selected_album_type(this.value);\" $type = \"radio\" $name = \"ALBUM[album_disabled]\" $value = \"yes\"" . ($ALBUM["album_disabled"] == "yes" ? " $checked = \"checked\"" : "") . " /> Yes\r\n\t\t\t\t\t<input $onclick = \"selected_album_type(this.value);\" $type = \"radio\" $name = \"ALBUM[album_disabled]\" $value = \"no\"" . ($ALBUM["album_disabled"] == "no" ? " $checked = \"checked\"" : "") . " /> No\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $colspan = \"2\">\r\n\t\t\t\t\t<div $id = \"album_disabled_yes\" $style = \"display: " . ($ALBUM["album_disabled"] == "yes" ? "inline" : "none") . ";\"></div>\r\n\t\t\t\t\t<div $id = \"album_disabled_no\" $style = \"display: " . ($ALBUM["album_disabled"] == "no" ? "inline" : "none") . ";\">\r\n\t\t\t\t\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Can Have Album and Upload Pictures?</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tSetting this permission to 'yes' allows the user to create albums and upload pictures to them. Requires the 'Can View Albums' Permission.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t" . $sgids . "\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Can View Albums?</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tSetting this permission to 'yes' allows the user to view Albums.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t" . $sgids2 . "\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Album Picture Maximum Width (pixels)</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tThe maximum width for a Picture.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ALBUM[album_max_width]\" $value = \"" . $ALBUM["album_max_width"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Album Picture Maximum Height (pixels)</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tThe maximum height for a Picture.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ALBUM[album_max_height]\" $value = \"" . $ALBUM["album_max_height"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Album Picture Maximum File Size (bytes)</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tThe Maximum Filesize for a Picture.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ALBUM[album_max_filesize]\" $value = \"" . $ALBUM["album_max_filesize"] . "\" $size = \"10\" /> " . var_238($ALBUM["album_max_filesize"]) . "\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Maximum Number of Album Pictures</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tThe maximum amount of Pictures a user is allowed to upload.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ALBUM[album_max_pictures]\" $value = \"" . $ALBUM["album_max_pictures"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Maximum Total File Size of Album Pictures (bytes)</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tThe maximum total file size for all the User's uploaded Pictures.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ALBUM[album_max_total_filesize]\" $value = \"" . $ALBUM["album_max_total_filesize"] . "\" $size = \"10\" /> " . var_238($ALBUM["album_max_total_filesize"]) . "\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Maximum Total Album per User</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\tThe maximum total Album per User.\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t\t\t\t\t<input $type = \"text\" $name = \"ALBUM[album_max_albums]\" $value = \"" . $ALBUM["album_max_albums"] . "\" $size = \"10\" />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_SHOUTCAST()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'SHOUTCAST'");
    $Result = mysqli_fetch_assoc($query);
    $SHOUTCAST = unserialize($Result["content"]);
    if (!($s_allowedusergroups = explode(",", $SHOUTCAST["s_allowedusergroups"]))) {
        $s_allowedusergroups = [];
    }
    $squery = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT gid, title, namestyle FROM usergroups");
    $scount = 1;
    for ($sgids = "\r\n\t<fieldset>\r\n\t\t<legend>Select Usergroup(s)</legend>\r\n\t\t\t<table $border = \"0\" $cellspacing = \"0\" $cellpadding = \"2\" $width = \"100%\">\r\n\t\t\t\t<tr>"; $gid = mysqli_fetch_assoc($squery); $scount++) {
        if ($scount % 4 == 1) {
            $sgids .= "</tr><tr>";
        }
        $sgids .= "\r\n\t\t<td class=\"alt0\"><input $type = \"checkbox\" $name = \"usergroup[]\" $value = \"" . $gid["gid"] . "\"" . (in_array($gid["gid"], $s_allowedusergroups, true) ? " $checked = \"checked\"" : "") . "></td>\r\n\t\t<td class=\"alt0\">" . str_replace("{username}", $gid["title"], $gid["namestyle"]) . "</td>";
    }
    $sgids .= "\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t</fieldset>";
    return "\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_shoutcast&amp;$tab = 7&amp;$stab = shoutcast\">\r\n\t<input $type = \"hidden\" $name = \"usergroups_implode_with\" $value = \",\" />\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"SHOUTCAST\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Shoutcast Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Server Name</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tDefault station name to display when server or stream is down. Please open shoutcast/flashradioconfig.xml file and enter your details there too.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTCAST[s_servername]\" $value = \"" . $SHOUTCAST["s_servername"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Server IP</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tIP or URL of shoutcast server.<br />Example: www.myshoutcastserver.com<br />Example: 122.155.666.5\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTCAST[s_serverip]\" $value = \"" . $SHOUTCAST["s_serverip"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Server Port</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPORT of shoutcast server.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTCAST[s_serverport]\" $value = \"" . $SHOUTCAST["s_serverport"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Server Password</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPassword to shoutcast server.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTCAST[s_serverpassword]\" $value = \"" . $SHOUTCAST["s_serverpassword"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Server Cache File</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter in the Cache File name of your shoutcast station.<br>Note: CHMOD 777 to not get errors. /shoutcast/" . $SHOUTCAST["s_servercachefile"] . " and /shoutcast/lps.dat\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTCAST[s_servercachefile]\" $value = \"" . $SHOUTCAST["s_servercachefile"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Server Update</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter in the Update time of your shoutcast station.<br>Note: seconds untill cache update.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTCAST[s_servercachetime]\" $value = \"" . $SHOUTCAST["s_servercachetime"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">IRC Site</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter your IRC Site URL.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SHOUTCAST[s_serverirc]\" $value = \"" . $SHOUTCAST["s_serverirc"] . "\" $size = \"30\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Usergroup Alloweds to View</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease select usergroup(s) that you want to use Shoutcast System.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t" . $sgids . "\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_PLUGIN()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = 'PLUGIN'");
    $Result = mysqli_fetch_assoc($query);
    $PLUGIN = unserialize($Result["content"]);
    return "\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_plugin&amp;$tab = 8&amp;$stab = plugin\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"PLUGIN\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">Plugin Settings</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Left Plugin Width</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter Left Plugin Width.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"PLUGIN[_left_plugin_width]\" $value = \"" . $PLUGIN["_left_plugin_width"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Right Plugin Width</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tPlease enter Right Plugin Width.\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"PLUGIN[_right_plugin_width]\" $value = \"" . $PLUGIN["_right_plugin_width"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt3\" $colspan = \"2\">Max News</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $align = \"justify\" $valign = \"top\">\r\n\t\t\t\t\tHow many news should we list?\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"alt0\" $width = \"50%\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"PLUGIN[_max_news]\" $value = \"" . $PLUGIN["_max_news"] . "\" $size = \"10\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function TS_Create_Tabs_SOCIAL()
{
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT `content` FROM `ts_config` WHERE `configname` = \"SOCIAL\"");
    $Result = mysqli_fetch_assoc($query);
    $SOCIAL = unserialize($Result["content"]);
    return "\r\n\t<form $method = \"post\" $action = \"" . $_SERVER["SCRIPT_NAME"] . "?do=manage_settings&amp;$act = save_social&amp;$tab = 9&amp;$stab = social\">\r\n\t<input $type = \"hidden\" $name = \"configname\" $value = \"SOCIAL\" />\r\n\t\t<table $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\" class=\"mainTableNoBorder\">\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat\" $colspan = \"2\">\r\n\t\t\t\t\t<b>Options below allow you to send messages to your Twitter account.</b>\r\n\t\t\t\t\t<div>Sign in to the http://twitter.com and register an application from the http://dev.twitter.com/apps page. Remember to never reveal your consumer secrets. Click on My Access Token link from the sidebar and retrieve your own access token. Now you have consumer key, consumer secret, access token and access token secret.</div></td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\"> Consumer Key </td>\r\n\t\t\t\t<td class=\"alt0\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SOCIAL[ConsumerKey]\" $value = \"" . $SOCIAL["ConsumerKey"] . "\" $style = \"width: 50%;\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\"> Consumer Secret </td>\r\n\t\t\t\t<td class=\"alt0\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SOCIAL[ConsumerSecret]\" $value = \"" . $SOCIAL["ConsumerSecret"] . "\" $style = \"width: 50%;\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\"> Access Token </td>\r\n\t\t\t\t<td class=\"alt0\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SOCIAL[AccessToken]\" $value = \"" . $SOCIAL["AccessToken"] . "\" $style = \"width: 50%;\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"alt0\"> Access Token Secret </td>\r\n\t\t\t\t<td class=\"alt0\" $valign = \"top\">\r\n\t\t\t\t\t<input $type = \"text\" $name = \"SOCIAL[AccessTokenSecret]\" $value = \"" . $SOCIAL["AccessTokenSecret"] . "\" $style = \"width: 50%;\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"tcat2\"></td>\r\n\t\t\t\t<td class=\"tcat2\">\r\n\t\t\t\t\t<input $type = \"submit\" $value = \"Save Settings\" /> <input $type = \"reset\" $value = \"Reset Settings\" />\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t</table>\r\n\t</form>";
}
function function_146($formname = "hitrun", $selected = [])
{
    $var_415 = [];
    $var_416 = [];
    $var_417 = [];
    $query = mysqli_query($GLOBALS["DatabaseConnect"], "SELECT * FROM categories WHERE type IN ('c','s') ORDER by name,id");
    while ($var_418 = mysqli_fetch_assoc($query)) {
        if ($var_418["type"] == "c") {
            $var_415[] = $var_418;
        }
        if ($var_418["type"] == "s") {
            $var_416[] = $var_418;
        }
    }
    if (count($var_416)) {
        foreach ($var_416 as $var_419) {
            $var_417[$var_419["pid"]] = (isset($var_417[$var_419["pid"]]) ? $var_417[$var_419["pid"]] : "") . "\r\n\t\t\t<tr>\r\n\t\t\t\t<td $valign = \"top\" class=\"alt0\">\r\n\t\t\t\t\t<input $type = \"checkbox\" $value = \"" . $var_419["id"] . "\" $checkme = \"group" . $var_419["pid"] . "\" $name = \"categories[]\"" . (in_array($var_419["id"], $selected) ? " $checked = \"checked\"" : "") . "> <span $style = \"color: #000000; font-size: 11px; font-weight: normal;\">" . $var_419["name"] . "</span>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>";
        }
    }
    $var_420 = "\r\n\t<div $style = \"border: 1px solid #000;\">\r\n\t\t<table $width = \"100%\" $cellspacing = \"0\" $cellpadding = \"0\" $border = \"0\">\r\n\t\t\t<tr>";
    $count = 0;
    foreach ($var_415 as $var_421) {
        if ($count % 3 == 0) {
            $var_420 .= "</tr><tr>";
        }
        $var_420 .= "\r\n\t\t\t\t<td $valign = \"top\" class=\"alt0\">\r\n\t\t\t\t\t<input $type = \"checkbox\" $value = \"" . $var_421["id"] . "\" $name = \"categories[]\" $checkall = \"group" . $var_421["id"] . "\" $onclick = \"javascript: return select_deselectAll ('" . $formname . "', this, 'group" . $var_421["id"] . "');\"" . (in_array($var_421["id"], $selected) ? " $checked = \"checked\"" : "") . "> <span $style = \"color: red; font-size: 12px; font-weight: bold;\">" . $var_421["name"] . "</span>\r\n\t\t\t\t\t" . (isset($var_417[$var_421["id"]]) ? "\r\n\t\t\t\t\t<div $style = \"margin-left: 20px;\">\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t" . $var_417[$var_421["id"]] . "\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</span>" : "") . "\r\n\t\t\t\t</td>\r\n\t\t";
        $count++;
    }
    $var_420 .= "\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>";
    return $var_420;
}

?>