function intval(B,C){var A;if(typeof (B)=="string"){A=parseInt(B*1);if(isNaN(A)||!isFinite(A)){return 0}else{return A.toString(C||10)}}else{if(typeof (B)=="number"&&isFinite(B)){return Math.floor(B)}else{return 0}}}function TSajaxquicksgm(C){var B=$("message").value;var A="do=save_sgm&groupid="+intval(C)+"&message="+urlencode(B);new Ajax.Request(baseurl+"/ts_ajax4.php",{parameters:A,method:"POST",contentType:"application/x-www-form-urlencoded",encoding:charset,onLoading:function(){Element.show("loading-layer");$("quickreply").submitsgm.disabled=true},onSuccess:function(E){var D=E.responseText;if(D.match(/<error>(.*)<\/error>/)){B=D.match(/<error>(.*)<\/error>/);if(!B[1]){B[1]=l_ajaxerror}alert(l_updateerror+B[1])}else{Element.show("PostedQuickMessage");$("PostedQuickMessage").innerHTML=D;$("message").value=""}Element.hide("loading-layer");$("quickreply").submitsgm.disabled=false},onException:function(E,D){alert(l_ajaxerror+"\n\n"+D);Element.hide("loading-layer");$("quickreply").submitsgm.disabled=false},onFailure:function(){alert(l_ajaxerror);Element.hide("loading-layer");$("quickreply").submitsgm.disabled=false}})};