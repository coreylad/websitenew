var minpwlength=6;var fairpwlength=8;var STRENGTH_SHORT=0;var STRENGTH_WEAK=1;var STRENGTH_FAIR=2;var STRENGTH_STRONG=3;img0=new Image();img1=new Image();img2=new Image();img3=new Image();img0.src=dimagedir+"ps/tooshort.jpg";img1.src=dimagedir+"ps/fair.jpg";img2.src=dimagedir+"ps/medium.jpg";img3.src=dimagedir+"ps/strong.jpg";var strengthlevel=0;var strengthimages=Array(img0.src,img1.src,img2.src,img3.src);function updatestrength(A){if(istoosmall(A)){strengthlevel=STRENGTH_SHORT}else{if(!isfair(A)){strengthlevel=STRENGTH_WEAK}else{if(hasnum(A)){strengthlevel=STRENGTH_STRONG}else{strengthlevel=STRENGTH_FAIR}}}document.getElementById("strength").src=strengthimages[strengthlevel]}function isfair(A){if(A.length<fairpwlength){return false}else{return true}}function istoosmall(A){if(A.length<minpwlength){return true}else{return false}}function hasnum(B){var C=false;for(var A=0;A<B.length;A++){if(!isNaN(B.charAt(A))){C=true}}return C}function showimage(A,B){document.getElementById(A).innerHTML='<img src="'+dimagedir+"input_"+B+'.gif" border="0">'}function validatesignup(){var F=" ";var E=6;var D=40;var A=3;var G=12;var C=document.signup.wantpassword.value;var B=document.signup.passagain.value;var H=document.signup.wantusername.value;if(H==""){alert(l_entername);showimage("username","error");document.signup.wantusername.focus();return false}if(document.signup.wantusername.value.length<A||document.signup.wantusername.value.length>G){alert(""+l_wrongusername+" "+A+" / "+G+"");showimage("username","error");document.signup.wantusername.focus();return false}if(document.signup.wantusername.value.indexOf(F)>-1){alert(l_spacenotallowed);showimage("username","error");document.signup.wantusername.value="";document.signup.wantusername.focus();return false}showimage("username","true");if(C==""||B==""){alert(l_passwordtwice);showimage("pass1","error");showimage("pass2","error");document.signup.wantpassword.focus();return false}if(document.signup.wantpassword.value.length<E||document.signup.wantpassword.value.length>D){alert(""+l_wrongpassword1+" "+E+" / "+D+"");showimage("pass1","error");showimage("pass2","error");document.signup.wantpassword.focus();return false}if(document.signup.wantpassword.value.indexOf(F)>-1){alert(l_spacenotallowed);showimage("pass1","error");showimage("pass2","error");document.signup.wantpassword.value="";document.signup.passagain.value="";document.signup.wantpassword.focus();return false}if(C!=B){alert(l_wrongpassword2);showimage("pass1","error");showimage("pass2","error");document.signup.wantpassword.value="";document.signup.passagain.value="";document.signup.wantpassword.focus();return false}if(H==C||H==B){alert(l_wrongpassword3);showimage("pass1","error");showimage("pass2","error");document.signup.wantpassword.value="";document.signup.passagain.value="";document.signup.wantpassword.focus();return false}showimage("pass1","true");showimage("pass2","true");if(!isValidEmail(document.signup.email.value)){alert(l_wrongemail);showimage("useremail","error");document.signup.email.value="";document.signup.email.focus();return false}else{showimage("useremail","true");document.signup.submit.value=l_pleasewait;document.signup.submit.disabled=true;return true}}function isValidEmail(A,B){if(B==undefined){B=true}if(A==null){if(B){return false}return true}if(A.length==0){if(B){return false}return true}if(!allValidChars(A)){return false}if(A.indexOf("@")<1){return false}else{if(A.lastIndexOf(".")<=A.indexOf("@")){return false}else{if(A.indexOf("@")==A.length){return false}else{if(A.indexOf("..")>=0){return false}else{if(A.indexOf(".")==A.length){return false}}}}}return true}function allValidChars(B){var A=true;var E="abcdefghijklmnopqrstuvwxyz0123456789@.-_";for(var C=0;C<B.length;C++){var D=B.charAt(C).toLowerCase();if(E.indexOf(D)!=-1){continue}A=false;break}return A};